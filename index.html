<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<title>DentPrep</title>
<style>
* { margin: 0; padding: 0; box-sizing: border-box; }
:root {
  --bg: #0a0a0f;
  --card: #14141f;
  --card-border: #1e1e2e;
  --primary: #6c5ce7;
  --primary-light: #a29bfe;
  --success: #00b894;
  --danger: #e17055;
  --text: #f0f0f0;
  --text-dim: #8888aa;
  --text-muted: #555577;
}
body {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  background: var(--bg);
  color: var(--text);
  min-height: 100vh;
  min-height: 100dvh;
  overflow-x: hidden;
}
.screen { display: none; min-height: 100vh; min-height: 100dvh; }
.screen.active { display: flex; flex-direction: column; }

/* LANG SELECT */
#lang-select {
  justify-content: center;
  align-items: center;
  text-align: center;
  padding: 20px;
}
.lang-title { font-size: 36px; font-weight: 800; margin-bottom: 8px; background: linear-gradient(135deg, var(--primary-light), var(--primary)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; }
.lang-sub { color: var(--text-dim); margin-bottom: 40px; font-size: 14px; }
.lang-buttons { display: flex; gap: 16px; justify-content: center; }
.lang-btn {
  background: var(--card);
  border: 2px solid var(--card-border);
  border-radius: 20px;
  padding: 28px 32px;
  cursor: pointer;
  transition: all 0.2s;
  text-align: center;
  min-width: 140px;
}
.lang-btn:active { transform: scale(0.96); }
.lang-btn:hover { border-color: var(--primary); }
.lang-btn .flag { font-size: 42px; margin-bottom: 10px; }
.lang-btn .lname { color: var(--text); font-size: 16px; font-weight: 600; }

/* HOME */
#home { padding: 20px; padding-top: env(safe-area-inset-top, 20px); }
.home-header { text-align: center; padding: 30px 0 20px; }
.home-header h1 { font-size: 32px; font-weight: 800; background: linear-gradient(135deg, var(--primary-light), var(--primary)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; }
.home-header p { color: var(--text-dim); margin-top: 6px; font-size: 14px; }
.home-top-bar { display: flex; justify-content: space-between; align-items: center; }
.lang-switch { background: var(--card); border: 1px solid var(--card-border); border-radius: 10px; padding: 6px 12px; cursor: pointer; font-size: 14px; color: var(--text-dim); }
.lang-switch:active { transform: scale(0.95); }
.stats-bar { display: flex; gap: 10px; margin: 20px 0; }
.stat-card { flex: 1; background: var(--card); border: 1px solid var(--card-border); border-radius: 14px; padding: 14px; text-align: center; }
.stat-card .num { font-size: 24px; font-weight: 700; color: var(--primary-light); }
.stat-card .label { font-size: 11px; color: var(--text-dim); margin-top: 2px; text-transform: uppercase; letter-spacing: 0.5px; }
.section-title { font-size: 18px; font-weight: 700; margin: 25px 0 12px; }
.subject-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; }
.subject-card { background: var(--card); border: 1px solid var(--card-border); border-radius: 16px; padding: 18px 14px; cursor: pointer; transition: all 0.2s; position: relative; overflow: hidden; }
.subject-card:active { transform: scale(0.97); }
.subject-card .emoji { font-size: 28px; margin-bottom: 8px; }
.subject-card .name { font-size: 14px; font-weight: 600; }
.subject-card .count { font-size: 12px; color: var(--text-dim); margin-top: 3px; }
.subject-card .progress-bar { position: absolute; bottom: 0; left: 0; height: 3px; background: var(--primary); border-radius: 0 3px 0 0; transition: width 0.3s; }

/* TOPICS */
#topics { padding: 20px; padding-top: env(safe-area-inset-top, 20px); }
.back-btn { background: none; border: none; color: var(--primary-light); font-size: 16px; cursor: pointer; padding: 8px 0; display: flex; align-items: center; gap: 6px; }
.topic-header { margin: 15px 0 20px; }
.topic-header h2 { font-size: 24px; font-weight: 700; }
.topic-header p { color: var(--text-dim); font-size: 13px; margin-top: 4px; }
.topic-list { display: flex; flex-direction: column; gap: 10px; }
.topic-card { background: var(--card); border: 1px solid var(--card-border); border-radius: 14px; padding: 16px; cursor: pointer; display: flex; justify-content: space-between; align-items: center; transition: all 0.2s; }
.topic-card:active { transform: scale(0.98); }
.topic-card .left .name { font-weight: 600; font-size: 15px; }
.topic-card .left .meta { color: var(--text-dim); font-size: 12px; margin-top: 3px; }
.topic-card .right { display: flex; align-items: center; gap: 8px; }
.topic-card .score { font-size: 13px; color: var(--success); font-weight: 600; }
.topic-card .arrow { color: var(--text-muted); font-size: 18px; }

/* QUIZ */
#quiz { padding: 20px; padding-top: env(safe-area-inset-top, 20px); justify-content: space-between; }
.quiz-top { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; }
.quiz-top .quit { background: none; border: none; color: var(--text-dim); font-size: 14px; cursor: pointer; }
.quiz-progress { width: 100%; height: 4px; background: var(--card-border); border-radius: 4px; margin-bottom: 25px; overflow: hidden; }
.quiz-progress .fill { height: 100%; background: linear-gradient(90deg, var(--primary), var(--primary-light)); border-radius: 4px; transition: width 0.4s ease; }
.quiz-counter { font-size: 13px; color: var(--text-dim); }
.question-area { flex: 1; }
.question-text { font-size: 19px; font-weight: 600; line-height: 1.5; margin-bottom: 25px; }
.options { display: flex; flex-direction: column; gap: 10px; }
.option-btn { background: var(--card); border: 2px solid var(--card-border); border-radius: 14px; padding: 16px; color: var(--text); font-size: 15px; text-align: left; cursor: pointer; transition: all 0.2s; display: flex; align-items: flex-start; gap: 12px; line-height: 1.4; }
.option-btn .letter { min-width: 28px; height: 28px; border-radius: 8px; background: var(--card-border); display: flex; align-items: center; justify-content: center; font-weight: 700; font-size: 13px; flex-shrink: 0; transition: all 0.2s; }
.option-btn:active:not(.disabled) { transform: scale(0.98); }
.option-btn:not(.disabled):hover { border-color: var(--primary); }
.option-btn:not(.disabled):hover .letter { background: var(--primary); }
.option-btn.correct { border-color: var(--success); background: rgba(0, 184, 148, 0.08); }
.option-btn.correct .letter { background: var(--success); }
.option-btn.wrong { border-color: var(--danger); background: rgba(225, 112, 85, 0.08); }
.option-btn.wrong .letter { background: var(--danger); }
.option-btn.disabled { cursor: default; opacity: 0.6; }
.option-btn.disabled.correct { opacity: 1; }
.option-btn.disabled.wrong { opacity: 1; }
.explanation { margin-top: 18px; padding: 16px; background: rgba(108, 92, 231, 0.08); border: 1px solid rgba(108, 92, 231, 0.2); border-radius: 14px; font-size: 14px; line-height: 1.6; color: var(--text-dim); display: none; }
.explanation.show { display: block; }
.explanation strong { color: var(--primary-light); }
.quiz-bottom { padding: 15px 0; }
.next-btn { width: 100%; padding: 16px; border: none; border-radius: 14px; background: linear-gradient(135deg, var(--primary), #7c6cf0); color: white; font-size: 16px; font-weight: 700; cursor: pointer; transition: all 0.2s; display: none; }
.next-btn.show { display: block; }
.next-btn:active { transform: scale(0.97); }

/* RESULTS */
#results { padding: 20px; padding-top: env(safe-area-inset-top, 20px); justify-content: center; align-items: center; text-align: center; }
.results-circle { width: 160px; height: 160px; border-radius: 50%; border: 6px solid var(--card-border); display: flex; flex-direction: column; align-items: center; justify-content: center; margin: 0 auto 25px; }
.results-circle.good { border-color: var(--success); }
.results-circle.ok { border-color: #fdcb6e; }
.results-circle.bad { border-color: var(--danger); }
.results-circle .pct { font-size: 42px; font-weight: 800; }
.results-circle .of { font-size: 13px; color: var(--text-dim); }
.results-msg { font-size: 22px; font-weight: 700; margin-bottom: 8px; }
.results-sub { color: var(--text-dim); font-size: 14px; margin-bottom: 30px; }
.results-actions { display: flex; flex-direction: column; gap: 10px; width: 100%; max-width: 300px; }
.results-actions button { padding: 15px; border-radius: 14px; font-size: 15px; font-weight: 600; cursor: pointer; border: none; transition: all 0.2s; }
.results-actions button:active { transform: scale(0.97); }
.btn-primary { background: linear-gradient(135deg, var(--primary), #7c6cf0); color: white; }
.btn-secondary { background: var(--card); border: 1px solid var(--card-border) !important; color: var(--text); }
@keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
.screen.active { animation: fadeIn 0.25s ease; }
::-webkit-scrollbar { width: 0; }
</style>
</head>
<body>

<!-- LANGUAGE SELECT -->
<div id="lang-select" class="screen active">
  <div>
    <div class="lang-title">ğŸ¦· DentPrep</div>
    <div class="lang-sub">Choose your language / Zgjidhni gjuhÃ«n</div>
    <div class="lang-buttons">
      <div class="lang-btn" onclick="setLang('sq')">
        <div class="flag">ğŸ‡¦ğŸ‡±</div>
        <div class="lname">Shqip</div>
      </div>
      <div class="lang-btn" onclick="setLang('en')">
        <div class="flag">ğŸ‡¬ğŸ‡§</div>
        <div class="lname">English</div>
      </div>
    </div>
  </div>
</div>

<!-- HOME -->
<div id="home" class="screen">
  <div class="home-top-bar">
    <div></div>
    <button class="lang-switch" id="lang-switch-btn" onclick="showScreen('lang-select')">ğŸ‡¦ğŸ‡±/ğŸ‡¬ğŸ‡§</button>
  </div>
  <div class="home-header">
    <h1>ğŸ¦· DentPrep</h1>
    <p id="home-subtitle"></p>
  </div>
  <div class="stats-bar">
    <div class="stat-card"><div class="num" id="stat-answered">0</div><div class="label" id="lbl-answered"></div></div>
    <div class="stat-card"><div class="num" id="stat-accuracy">0%</div><div class="label" id="lbl-accuracy"></div></div>
    <div class="stat-card"><div class="num" id="stat-streak">0</div><div class="label" id="lbl-streak"></div></div>
  </div>
  <div class="section-title" id="lbl-subjects"></div>
  <div class="subject-grid" id="subject-grid"></div>
</div>

<!-- TOPICS -->
<div id="topics" class="screen">
  <button class="back-btn" id="back-topics" onclick="showScreen('home')"></button>
  <div class="topic-header">
    <h2 id="topic-subject-name"></h2>
    <p id="topic-subject-desc"></p>
  </div>
  <div class="topic-list" id="topic-list"></div>
</div>

<!-- QUIZ -->
<div id="quiz" class="screen">
  <div>
    <div class="quiz-top">
      <span class="quiz-counter" id="quiz-counter">1 / 10</span>
      <button class="quit" id="quit-btn" onclick="showScreen('home')"></button>
    </div>
    <div class="quiz-progress"><div class="fill" id="quiz-progress-fill" style="width:0%"></div></div>
    <div class="question-area">
      <div class="question-text" id="question-text"></div>
      <div class="options" id="options"></div>
      <div class="explanation" id="explanation"></div>
    </div>
  </div>
  <div class="quiz-bottom">
    <button class="next-btn" id="next-btn" onclick="nextQuestion()"></button>
  </div>
</div>

<!-- RESULTS -->
<div id="results" class="screen">
  <div class="results-circle" id="results-circle">
    <div class="pct" id="results-pct">0%</div>
    <div class="of" id="results-of">0/0</div>
  </div>
  <div class="results-msg" id="results-msg"></div>
  <div class="results-sub" id="results-sub"></div>
  <div class="results-actions">
    <button class="btn-primary" id="btn-retry" onclick="retryQuiz()"></button>
    <button class="btn-secondary" id="btn-back-home" onclick="showScreen('home')"></button>
  </div>
</div>

<script>
// ===== UI TRANSLATIONS =====
const UI = {
  en: {
    subtitle: "Ace your dental exams",
    answered: "Answered", accuracy: "Accuracy", streak: "Streak",
    subjects: "Subjects", back: "â† Back", quit: "âœ• Quit",
    next: "Next â†’", seeResults: "See Results",
    retry: "Try Again", backHome: "Back to Home",
    questions: "questions",
    results: [
      ["Excellent! ğŸ‰","You nailed it!"],
      ["Good job! ğŸ’ª","Keep reviewing the ones you missed."],
      ["Getting there ğŸ“š","Review the explanations and try again."],
      ["Keep studying ğŸ”„","Read through the topic again before retrying."]
    ]
  },
  sq: {
    subtitle: "PÃ«rgatitu pÃ«r provimet e stomatologjisÃ«",
    answered: "PÃ«rgjigjur", accuracy: "SaktÃ«sia", streak: "Seria",
    subjects: "LÃ«ndÃ«t", back: "â† Kthehu", quit: "âœ• Dil",
    next: "Tjetra â†’", seeResults: "Shiko Rezultatet",
    retry: "Provo PÃ«rsÃ«ri", backHome: "Kthehu nÃ« BallinÃ«",
    questions: "pyetje",
    results: [
      ["ShkÃ«lqyeshÃ«m! ğŸ‰","E kalove me sukses!"],
      ["PunÃ« e mirÃ«! ğŸ’ª","Rishiko ato qÃ« i gabove."],
      ["Je nÃ« rrugÃ«! ğŸ“š","Rishiko shpjegimet dhe provo pÃ«rsÃ«ri."],
      ["Vazhdo mÃ«simin ğŸ”„","Lexo temÃ«n pÃ«rsÃ«ri para se tÃ« provosh."]
    ]
  }
};

// ===== QUESTION BANK (BILINGUAL) =====
const SUBJECTS = [
  {
    id: "anatomy",
    name: { en: "Oral Anatomy", sq: "Anatomia Orale" },
    emoji: "ğŸ¦´",
    desc: { en: "Head, neck & dental anatomy", sq: "Anatomia e kokÃ«s, qafÃ«s dhe dhÃ«mbÃ«ve" },
    topics: [
      {
        name: { en: "Tooth Morphology", sq: "Morfologjia e DhÃ«mbÃ«ve" },
        questions: [
          {
            q: { en: "Which permanent tooth has the longest root in the human dentition?", sq: "Cili dhÃ«mb i pÃ«rhershÃ«m ka rrÃ«njÃ«n mÃ« tÃ« gjatÃ« nÃ« denticionin njerÃ«zor?" },
            options: { en: ["Maxillary central incisor", "Maxillary canine", "Mandibular canine", "Maxillary first premolar"], sq: ["Incizivi qendror maksillrar", "Kanini maksillrar", "Kanini mandibular", "Premolari i parÃ« maksillrar"] },
            correct: 1,
            explanation: { en: "The <strong>maxillary canine</strong> has the longest root of any permanent tooth, averaging 26.5mm. This is a classic examiner favorite.", sq: "<strong>Kanini maksillrar</strong> ka rrÃ«njÃ«n mÃ« tÃ« gjatÃ« tÃ« Ã§do dhÃ«mbi tÃ« pÃ«rhershÃ«m, mesatarisht 26.5mm. Kjo Ã«shtÃ« pyetje klasike e provimeve." }
          },
          {
            q: { en: "The oblique ridge is a characteristic feature of which tooth?", sq: "KreshtÃ« e pjerrÃ«t (oblique ridge) Ã«shtÃ« tipar karakteristik i cilit dhÃ«mb?" },
            options: { en: ["Mandibular first molar", "Maxillary first molar", "Maxillary second premolar", "Mandibular second molar"], sq: ["Molari i parÃ« mandibular", "Molari i parÃ« maksillrar", "Premolari i dytÃ« maksillrar", "Molari i dytÃ« mandibular"] },
            correct: 1,
            explanation: { en: "The <strong>oblique ridge</strong> connects the mesiopalatal cusp to the distobuccal cusp on the <strong>maxillary first molar</strong>.", sq: "<strong>KreshtÃ« e pjerrÃ«t</strong> lidh kuspin meziopalatinal me kuspin distobukal nÃ« <strong>molarin e parÃ« maksillrar</strong>." }
          },
          {
            q: { en: "How many pulp horns does a mandibular first molar typically have?", sq: "Sa brirÃ« tÃ« pulpÃ«s ka zakonisht molari i parÃ« mandibular?" },
            options: { en: ["3", "4", "5", "2"], sq: ["3", "4", "5", "2"] },
            correct: 2,
            explanation: { en: "The mandibular first molar typically has <strong>5 pulp horns</strong> â€” one for each cusp.", sq: "Molari i parÃ« mandibular zakonisht ka <strong>5 brirÃ« tÃ« pulpÃ«s</strong> â€” njÃ« pÃ«r Ã§do kusp." }
          },
          {
            q: { en: "Which tooth is known as the 'cornerstone of the dental arch'?", sq: "Cili dhÃ«mb njihet si 'gurthemeli i harkut dentar'?" },
            options: { en: ["Maxillary central incisor", "First molar", "Canine", "Second premolar"], sq: ["Incizivi qendror maksillrar", "Molari i parÃ«", "Kanini", "Premolari i dytÃ«"] },
            correct: 2,
            explanation: { en: "The <strong>canine</strong> is the cornerstone of the dental arch.", sq: "<strong>Kanini</strong> Ã«shtÃ« gurthemeli i harkut dentar â€” ndodhet nÃ« pikÃ«n kthese tÃ« harkut, ka rrÃ«njÃ«n mÃ« tÃ« gjatÃ«." }
          },
          {
            q: { en: "The Carabelli trait is most commonly found on which tooth?", sq: "Tipari i Carabelli gjendet mÃ« shpesh nÃ« cilin dhÃ«mb?" },
            options: { en: ["Maxillary second molar", "Maxillary first molar", "Mandibular first molar", "Maxillary first premolar"], sq: ["Molari i dytÃ« maksillrar", "Molari i parÃ« maksillrar", "Molari i parÃ« mandibular", "Premolari i parÃ« maksillrar"] },
            correct: 1,
            explanation: { en: "The <strong>Cusp of Carabelli</strong> is found on the mesiopalatal cusp of the <strong>maxillary first molar</strong>.", sq: "<strong>Kuspi i Carabelli</strong> gjendet nÃ« kuspin meziopalatinal tÃ« <strong>molarit tÃ« parÃ« maksillrar</strong>." }
          }
        ]
      },
      {
        name: { en: "Muscles of Mastication", sq: "Muskujt e PÃ«rtypsjes" },
        questions: [
          {
            q: { en: "Which muscle is the primary protruder of the mandible?", sq: "Cili muskul Ã«shtÃ« protruzioni kryesor i mandibulÃ«s?" },
            options: { en: ["Masseter", "Lateral pterygoid", "Medial pterygoid", "Temporalis"], sq: ["Maseteri", "Pterigoideus lateral", "Pterigoideus medial", "Temporalisi"] },
            correct: 1,
            explanation: { en: "The <strong>lateral pterygoid</strong> (inferior head) is the primary protruder of the mandible.", sq: "<strong>Pterigoideus lateral</strong> (koka inferiore) Ã«shtÃ« protruzioni kryesor i mandibulÃ«s." }
          },
          {
            q: { en: "Which muscle of mastication is the strongest closer of the jaw?", sq: "Cili muskul i pÃ«rtypsjes Ã«shtÃ« mbyllÃ«si mÃ« i fortÃ« i nofullÃ«s?" },
            options: { en: ["Temporalis", "Masseter", "Medial pterygoid", "Lateral pterygoid"], sq: ["Temporalisi", "Maseteri", "Pterigoideus medial", "Pterigoideus lateral"] },
            correct: 1,
            explanation: { en: "The <strong>masseter</strong> is the strongest muscle of mastication based on force generation.", sq: "<strong>Maseteri</strong> Ã«shtÃ« muskuli mÃ« i fortÃ« i pÃ«rtypsjes bazuar nÃ« forcÃ«n e gjeneruar." }
          },
          {
            q: { en: "All muscles of mastication are innervated by which nerve?", sq: "TÃ« gjithÃ« muskujt e pÃ«rtypsjes inervohen nga cili nerv?" },
            options: { en: ["Facial nerve (CN VII)", "Mandibular division of trigeminal (V3)", "Maxillary division of trigeminal (V2)", "Hypoglossal nerve (CN XII)"], sq: ["Nervi facial (CN VII)", "Dega mandibulare e trigeminusit (V3)", "Dega maksillare e trigeminusit (V2)", "Nervi hipoglosal (CN XII)"] },
            correct: 1,
            explanation: { en: "All four muscles of mastication are innervated by the <strong>mandibular division (V3)</strong> of the trigeminal nerve.", sq: "TÃ« katÃ«r muskujt e pÃ«rtypsjes inervohen nga <strong>dega mandibulare (V3)</strong> e nervit trigeminus." }
          },
          {
            q: { en: "Which part of the temporalis muscle is responsible for retrusion of the mandible?", sq: "Cila pjesÃ« e muskulit temporalis Ã«shtÃ« pÃ«rgjegjÃ«se pÃ«r retruzioni e mandibulÃ«s?" },
            options: { en: ["Anterior fibers", "Middle fibers", "Posterior fibers", "All fibers equally"], sq: ["Fibrat anteriore", "Fibrat e mesme", "Fibrat posteriore", "TÃ« gjitha fibrat njÃ«soj"] },
            correct: 2,
            explanation: { en: "The <strong>posterior (horizontal) fibers</strong> of the temporalis retract the mandible.", sq: "<strong>Fibrat posteriore (horizontale)</strong> tÃ« temporalisit e tÃ«rheqin mandibulÃ«n prapa." }
          },
          {
            q: { en: "The lateral pterygoid inserts into which structure?", sq: "Pterigoideus lateral insertohet nÃ« cilÃ«n strukturÃ«?" },
            options: { en: ["Angle of the mandible", "Coronoid process", "Pterygoid fovea and TMJ disc", "Mandibular foramen"], sq: ["KÃ«ndi i mandibulÃ«s", "Procesi koronoid", "Fovea pterigoidale dhe disku i TMJ", "Forameni mandibular"] },
            correct: 2,
            explanation: { en: "The <strong>superior head</strong> inserts into the TMJ disc and capsule. The <strong>inferior head</strong> inserts into the pterygoid fovea.", sq: "<strong>Koka superiore</strong> insertohet nÃ« diskun e TMJ. <strong>Koka inferiore</strong> insertohet nÃ« fovean pterigoidale." }
          }
        ]
      }
    ]
  },
  {
    id: "pharmacology",
    name: { en: "Pharmacology", sq: "Farmakologjia" },
    emoji: "ğŸ’Š",
    desc: { en: "Dental therapeutics & drug interactions", sq: "Terapeutika dentare dhe ndÃ«rveprimet e barnave" },
    topics: [
      {
        name: { en: "Local Anesthetics", sq: "AnestetikÃ«t Lokal" },
        questions: [
          {
            q: { en: "What is the maximum dose of lidocaine 2% with epinephrine for a 70kg patient?", sq: "Cila Ã«shtÃ« doza maksimale e lidokainÃ«s 2% me epinefrinÃ« pÃ«r njÃ« pacient 70kg?" },
            options: { en: ["245 mg", "500 mg", "7 mg/kg", "4.4 mg/kg (308 mg)"], sq: ["245 mg", "500 mg", "7 mg/kg", "4.4 mg/kg (308 mg)"] },
            correct: 3,
            explanation: { en: "Lidocaine with epi: <strong>7 mg/kg</strong>, max 500mg. Know BOTH values â€” examiners test either.", sq: "Lidokaina me epi: <strong>7 mg/kg</strong>, max 500mg. Dini TÃ‹ DY vlerat â€” provuesit pyesin cilindo." }
          },
          {
            q: { en: "Which local anesthetic is an ester type?", sq: "Cili anestetik lokal Ã«shtÃ« i tipit ester?" },
            options: { en: ["Lidocaine", "Articaine", "Procaine", "Bupivacaine"], sq: ["Lidokaina", "Artikaina", "Prokaina", "Bupivakaina"] },
            correct: 2,
            explanation: { en: "<strong>Procaine (Novocain)</strong> is an ester. Mnemonic: esters have ONE 'i', amides have TWO 'i's.", sq: "<strong>Prokaina (Novocain)</strong> Ã«shtÃ« ester. MnemonikÃ«: esteret kanÃ« NJÃ‹ 'i', amidet kanÃ« DY 'i'." }
          },
          {
            q: { en: "True allergic reactions to amide local anesthetics are:", sq: "Reaksionet e vÃ«rteta alergjike ndaj anestetikÃ«ve amid janÃ«:" },
            options: { en: ["Very common", "Rare but significant", "Extremely rare (<1%)", "Non-existent"], sq: ["ShumÃ« tÃ« zakonshme", "TÃ« rralla por tÃ« rÃ«ndÃ«sishme", "JashtÃ«zakonisht tÃ« rralla (<1%)", "Nuk ekzistojnÃ«"] },
            correct: 2,
            explanation: { en: "True allergy to amide LAs is <strong>extremely rare</strong> (<1%). Most reactions are vasovagal syncope or epinephrine response.", sq: "Alergjia e vÃ«rtetÃ« ndaj LA amide Ã«shtÃ« <strong>jashtÃ«zakonisht e rrallÃ«</strong> (<1%). Shumica e reaksioneve janÃ« sinkopÃ« vazovagale ose pÃ«rgjigje ndaj epinefrinÃ«s." }
          },
          {
            q: { en: "Which local anesthetic has the longest duration of action?", sq: "Cili anestetik lokal ka kohÃ«zgjatjen mÃ« tÃ« gjatÃ« tÃ« veprimit?" },
            options: { en: ["Lidocaine", "Mepivacaine", "Bupivacaine", "Articaine"], sq: ["Lidokaina", "Mepivakaina", "Bupivakaina", "Artikaina"] },
            correct: 2,
            explanation: { en: "<strong>Bupivacaine (Marcaine)</strong> has the longest duration â€” up to 8+ hours.", sq: "<strong>Bupivakaina (Marcaine)</strong> ka kohÃ«zgjatjen mÃ« tÃ« gjatÃ« â€” deri 8+ orÃ« anestezi tÃ« indeve tÃ« buta." }
          },
          {
            q: { en: "Articaine is unique among dental local anesthetics because:", sq: "Artikaina Ã«shtÃ« unike midis anestetikÃ«ve dental sepse:" },
            options: { en: ["It's the only ester used", "It contains a thiophene ring instead of benzene", "It cannot be used with epinephrine", "It has no maximum dose"], sq: ["Ã‹shtÃ« i vetmi ester i pÃ«rdorur", "PÃ«rmban unazÃ« tiofeni nÃ« vend tÃ« benzenit", "Nuk mund tÃ« pÃ«rdoret me epinefrinÃ«", "Nuk ka dozÃ« maksimale"] },
            correct: 1,
            explanation: { en: "Articaine has a <strong>thiophene ring</strong> instead of benzene, making it more lipid-soluble with better tissue diffusion.", sq: "Artikaina ka <strong>unazÃ« tiofeni</strong> nÃ« vend tÃ« benzenit, duke e bÃ«rÃ« mÃ« tÃ« tretshme nÃ« lipide me difuzion mÃ« tÃ« mirÃ« nÃ« inde." }
          }
        ]
      },
      {
        name: { en: "Antibiotics in Dentistry", sq: "AntibiotikÃ«t nÃ« Stomatologji" },
        questions: [
          {
            q: { en: "What is the first-line antibiotic for most dental infections?", sq: "Cili Ã«shtÃ« antibiotiku i linjÃ«s sÃ« parÃ« pÃ«r shumicÃ«n e infeksioneve dentare?" },
            options: { en: ["Metronidazole", "Azithromycin", "Amoxicillin", "Clindamycin"], sq: ["Metronidazoli", "Azitromicina", "Amoksicilina", "Klindamicina"] },
            correct: 2,
            explanation: { en: "<strong>Amoxicillin 500mg TID</strong> is the first-line for dental infections.", sq: "<strong>Amoksicilina 500mg TID</strong> Ã«shtÃ« linja e parÃ« pÃ«r infeksionet dentare." }
          },
          {
            q: { en: "For a penicillin-allergic patient with a dental abscess, which antibiotic is preferred?", sq: "PÃ«r njÃ« pacient alergjik ndaj penicilinÃ«s me absces dentar, cili antibiotik preferohet?" },
            options: { en: ["Cephalexin", "Clindamycin", "Amoxicillin-clavulanate", "Tetracycline"], sq: ["Cefaleksina", "Klindamicina", "Amoksicilina-klavulanate", "Tetraciklina"] },
            correct: 1,
            explanation: { en: "<strong>Clindamycin 300mg QID</strong> â€” excellent bone penetration, covers anaerobes. Risk of C. difficile.", sq: "<strong>Klindamicina 300mg QID</strong> â€” penetrim i shkÃ«lqyer nÃ« kockÃ«, mbulon anaerobÃ«t. Rrezik i C. difficile." }
          },
          {
            q: { en: "Metronidazole is effective against which type of organisms?", sq: "Metronidazoli Ã«shtÃ« efektiv kundÃ«r cilit lloj tÃ« organizmave?" },
            options: { en: ["Aerobic gram-positive cocci", "Obligate anaerobes", "Gram-negative aerobes", "Fungi"], sq: ["KokÃ«t gram-pozitive aerobe", "AnaerobÃ«t obligat", "AerobÃ«t gram-negativ", "KÃ«rpudhat"] },
            correct: 1,
            explanation: { en: "<strong>Metronidazole</strong> targets <strong>obligate anaerobes</strong>. Often combined with amoxicillin.", sq: "<strong>Metronidazoli</strong> vepron kundÃ«r <strong>anaerobÃ«ve obligat</strong>. Shpesh kombinohet me amoksicilinÃ«." }
          },
          {
            q: { en: "The standard prophylactic antibiotic dose before dental procedures for at-risk cardiac patients is:", sq: "Doza standarde profilaktike para procedurave dentare pÃ«r pacientÃ«t kardiak nÃ« rrezik Ã«shtÃ«:" },
            options: { en: ["Amoxicillin 250mg 1hr before", "Amoxicillin 2g 30-60min before", "Amoxicillin 500mg TID for 7 days", "Clindamycin 600mg after"], sq: ["Amoksicilina 250mg 1 orÃ« para", "Amoksicilina 2g 30-60min para", "Amoksicilina 500mg TID pÃ«r 7 ditÃ«", "Klindamicina 600mg pas"] },
            correct: 1,
            explanation: { en: "<strong>Amoxicillin 2g, 30-60 minutes before</strong>. Single dose, oral. AHA guideline â€” examiners LOVE this.", sq: "<strong>Amoksicilina 2g, 30-60 minuta para</strong>. DozÃ« e vetme, orale. Guideline e AHA â€” provuesit e DUAN kÃ«tÃ« pyetje." }
          },
          {
            q: { en: "Which drug interaction is most dangerous with metronidazole?", sq: "Cila ndÃ«rveprim i barnave Ã«shtÃ« mÃ« e rrezikshme me metronidazolin?" },
            options: { en: ["Ibuprofen", "Alcohol", "Paracetamol", "Omeprazole"], sq: ["Ibuprofeni", "Alkooli", "Paracetamoli", "Omeprazoli"] },
            correct: 1,
            explanation: { en: "Metronidazole + <strong>alcohol</strong> = disulfiram-like reaction. Board exam classic.", sq: "Metronidazoli + <strong>alkooli</strong> = reaksion i tipit disulfiram. Klasike e provimeve." }
          }
        ]
      }
    ]
  },
  {
    id: "oral-surgery",
    name: { en: "Oral Surgery", sq: "Kirurgjia Orale" },
    emoji: "ğŸ”ª",
    desc: { en: "Extractions, impactions & surgical principles", sq: "Ekstraktimet, impaktimet dhe parimet kirurgjikale" },
    topics: [
      {
        name: { en: "Impacted Third Molars", sq: "MolarÃ«t e TretÃ« tÃ« Impaktuar" },
        questions: [
          {
            q: { en: "According to Winter's classification, what is the most common angulation of impacted mandibular third molars?", sq: "Sipas klasifikimit tÃ« Winter-it, cili Ã«shtÃ« angulimi mÃ« i zakonshÃ«m i molarÃ«ve tÃ« tretÃ« mandibular tÃ« impaktuar?" },
            options: { en: ["Vertical", "Mesioangular", "Distoangular", "Horizontal"], sq: ["Vertikal", "Mezioanuglar", "Distoanuglar", "Horizontal"] },
            correct: 1,
            explanation: { en: "<strong>Mesioangular</strong> is the most common (~43%).", sq: "<strong>Mezioanuglar</strong> Ã«shtÃ« mÃ« i zakonshmi (~43%)." }
          },
          {
            q: { en: "In the Pell & Gregory classification, Class II refers to:", sq: "NÃ« klasifikimin Pell & Gregory, Klasa II i referohet:" },
            options: { en: ["Tooth is level with occlusal plane", "Available space is less than M-D width of crown", "Tooth is below cervical line of adjacent tooth", "Space equals M-D width"], sq: ["DhÃ«mbi Ã«shtÃ« nÃ« nivelin e planit okluzal", "HapÃ«sira e disponueshme Ã«shtÃ« mÃ« e vogÃ«l se gjerÃ«sia M-D e kurorÃ«s", "DhÃ«mbi Ã«shtÃ« nÃ«n vijÃ«n cervikale", "HapÃ«sira barazohet me gjerÃ«sinÃ« M-D"] },
            correct: 1,
            explanation: { en: "Pell & Gregory <strong>Class II</strong> = space between ramus and distal of second molar is <strong>less than</strong> M-D width of third molar crown.", sq: "Pell & Gregory <strong>Klasa II</strong> = hapÃ«sira midis ramusit dhe distalit tÃ« molarit tÃ« dytÃ« Ã«shtÃ« <strong>mÃ« e vogÃ«l</strong> se gjerÃ«sia M-D e kurorÃ«s sÃ« molarit tÃ« tretÃ«." }
          },
          {
            q: { en: "What is the most common complication after surgical extraction of mandibular third molars?", sq: "Cila Ã«shtÃ« komplikacioni mÃ« i zakonshÃ«m pas ekstraktimit kirurgjik tÃ« molarÃ«ve tÃ« tretÃ« mandibular?" },
            options: { en: ["Inferior alveolar nerve damage", "Alveolar osteitis (dry socket)", "Mandibular fracture", "Hemorrhage"], sq: ["DÃ«mtimi i nervit alveolar inferior", "Osteiti alveolar (dry socket)", "Fraktura e mandibulÃ«s", "Hemorragjia"] },
            correct: 1,
            explanation: { en: "<strong>Alveolar osteitis (dry socket)</strong> occurs in 2-5% of routine extractions, up to 25-30% for impacted third molars.", sq: "<strong>Osteiti alveolar (dry socket)</strong> ndodh nÃ« 2-5% tÃ« ekstraktimeve rutinore, deri 25-30% pÃ«r molarÃ«t e tretÃ« tÃ« impaktuar." }
          },
          {
            q: { en: "Which nerve is most at risk during extraction of impacted mandibular third molars?", sq: "Cili nerv Ã«shtÃ« mÃ« i rrezikuar gjatÃ« ekstraktimit tÃ« molarÃ«ve tÃ« tretÃ« mandibular tÃ« impaktuar?" },
            options: { en: ["Mental nerve", "Lingual nerve", "Buccal nerve", "Mylohyoid nerve"], sq: ["Nervi mental", "Nervi lingual", "Nervi bukal", "Nervi milohioid"] },
            correct: 1,
            explanation: { en: "The <strong>lingual nerve</strong> is most commonly damaged (0.4-0.6% temporary).", sq: "<strong>Nervi lingual</strong> dÃ«mtohet mÃ« shpesh (0.4-0.6% e pÃ«rkohshme)." }
          },
          {
            q: { en: "Coronectomy is indicated when:", sq: "Koronektomia indikohet kur:" },
            options: { en: ["The tooth is fully erupted", "CBCT shows roots intimately related to IAN canal", "The patient is under 18", "The tooth is mesioangularly impacted"], sq: ["DhÃ«mbi Ã«shtÃ« plotÃ«sisht i eruputuar", "CBCT tregon rrÃ«njÃ«t nÃ« lidhje intime me kanalin e IAN", "Pacienti Ã«shtÃ« nÃ«n 18 vjeÃ§", "DhÃ«mbi Ã«shtÃ« i impaktuar mezioanuglar"] },
            correct: 1,
            explanation: { en: "<strong>Coronectomy</strong> removes only the crown when CBCT confirms intimate root-IAN relationship.", sq: "<strong>Koronektomia</strong> heq vetÃ«m kurorÃ«n kur CBCT konfirmon marrÃ«dhÃ«nie intime rrÃ«njÃ«-IAN." }
          }
        ]
      },
      {
        name: { en: "Supernumerary Teeth", sq: "DhÃ«mbÃ«t Supranumerar" },
        questions: [
          {
            q: { en: "What is the most common type of supernumerary tooth?", sq: "Cili Ã«shtÃ« lloji mÃ« i zakonshÃ«m i dhÃ«mbit supranumerar?" },
            options: { en: ["Paramolar", "Distomolar", "Mesiodens", "Supplemental lateral incisor"], sq: ["Paramolari", "Distomolari", "Meziodentja", "Incizivi lateral suplementar"] },
            correct: 2,
            explanation: { en: "<strong>Mesiodens</strong> accounts for ~80% of all supernumeraries.", sq: "<strong>Meziodentja</strong> pÃ«rbÃ«n ~80% tÃ« tÃ« gjithÃ« supranumerarÃ«ve." }
          },
          {
            q: { en: "Which syndrome is MOST associated with multiple supernumerary teeth?", sq: "Cili sindrom Ã«shtÃ« MÃ‹ I LIDHUR me dhÃ«mbÃ« supranumerar tÃ« shumÃ«fishtÃ«?" },
            options: { en: ["Down syndrome", "Gardner syndrome", "Cleidocranial dysplasia", "Turner syndrome"], sq: ["Sindromi Down", "Sindromi Gardner", "Displazia kleidokraniale", "Sindromi Turner"] },
            correct: 2,
            explanation: { en: "<strong>Cleidocranial dysplasia</strong> â€” multiple supernumeraries, absent/hypoplastic clavicles, delayed fontanelle closure.", sq: "<strong>Displazia kleidokraniale</strong> â€” supranumerar tÃ« shumÃ«fishtÃ«, klavikula tÃ« munguar/hipoplastike, mbyllje e vonuar e fontanelave." }
          },
          {
            q: { en: "What is the most common complication caused by supernumerary teeth?", sq: "Cila Ã«shtÃ« komplikacioni mÃ« i zakonshÃ«m i shkaktuar nga dhÃ«mbÃ«t supranumerar?" },
            options: { en: ["Root resorption of adjacent teeth", "Delayed/failed eruption of permanent teeth", "Odontogenic cyst formation", "Crowding"], sq: ["Resorbimi i rrÃ«njÃ«s sÃ« dhÃ«mbÃ«ve fqinj", "Erupcioni i vonuar/dÃ«shtuar i dhÃ«mbÃ«ve tÃ« pÃ«rhershÃ«m", "Formimi i cistÃ«s odontogjenÃ«", "Ngjeshja"] },
            correct: 1,
            explanation: { en: "<strong>Delayed or failed eruption</strong> of adjacent permanent teeth is the most common complication (~30-60%).", sq: "<strong>Erupcioni i vonuar ose i dÃ«shtuar</strong> i dhÃ«mbÃ«ve tÃ« pÃ«rhershÃ«m fqinj Ã«shtÃ« komplikacioni mÃ« i zakonshÃ«m (~30-60%)." }
          },
          {
            q: { en: "External root resorption caused by supernumerary teeth is best diagnosed by:", sq: "Resorbimi i jashtÃ«m i rrÃ«njÃ«s i shkaktuar nga dhÃ«mbÃ«t supranumerar diagnostikohet mÃ« mirÃ« me:" },
            options: { en: ["Periapical radiograph", "Clinical examination", "CBCT scan", "Panoramic radiograph"], sq: ["Radiografi periapikale", "Ekzaminim klinik", "CBCT skanim", "Radiografi panoramike"] },
            correct: 2,
            explanation: { en: "<strong>CBCT</strong> is the gold standard for diagnosing root resorption â€” shows exact 3D relationship.", sq: "<strong>CBCT</strong> Ã«shtÃ« standardi i artÃ« pÃ«r diagnostikimin e resorbimit â€” tregon marrÃ«dhÃ«nien e saktÃ« 3D." }
          },
          {
            q: { en: "Bilateral supernumerary teeth in the molar region are classified as:", sq: "DhÃ«mbÃ«t supranumerar bilateral nÃ« rajonin molar klasifikohen si:" },
            options: { en: ["Mesiodens", "Paramolars or distomolars", "Odontomas", "Supplemental teeth"], sq: ["MeziodentÃ«", "ParamolarÃ« ose distomolarÃ«", "Odontoma", "DhÃ«mbÃ« suplementarÃ«"] },
            correct: 1,
            explanation: { en: "<strong>Paramolars</strong> are buccal/palatal to molars. <strong>Distomolars</strong> are distal to third molar. Bilateral occurrence is rare (<1%).", sq: "<strong>ParamolarÃ«t</strong> janÃ« bukale/palatinale ndaj molarÃ«ve. <strong>DistomolarÃ«t</strong> janÃ« distale ndaj molarit tÃ« tretÃ«. Paraqitja bilaterale Ã«shtÃ« e rrallÃ« (<1%)." }
          }
        ]
      }
    ]
  },
  {
    id: "endodontics",
    name: { en: "Endodontics", sq: "Endodontia" },
    emoji: "ğŸ”¬",
    desc: { en: "Pulp biology, root canal therapy", sq: "Biologjia e pulpÃ«s, terapia endodontike" },
    topics: [
      {
        name: { en: "Pulp Diagnosis", sq: "Diagnoza e PulpÃ«s" },
        questions: [
          {
            q: { en: "A tooth that responds with a sharp, momentary pain to cold that disappears immediately has:", sq: "NjÃ« dhÃ«mb qÃ« pÃ«rgjigjet me dhimbje tÃ« mprehtÃ« momentale nga ftohja qÃ« zhduket menjÃ«herÃ« ka:" },
            options: { en: ["Irreversible pulpitis", "Reversible pulpitis", "Pulp necrosis", "Normal pulp response"], sq: ["Pulpit ireversibil", "Pulpit reversibil", "NekrozÃ« pulpe", "PÃ«rgjigje normale e pulpÃ«s"] },
            correct: 3,
            explanation: { en: "A <strong>normal pulp</strong> responds to cold with brief sensation that disappears when stimulus is removed.", sq: "<strong>Pulpa normale</strong> pÃ«rgjigjet ndaj ftohjÃ«s me ndjesi tÃ« shkurtÃ«r qÃ« zhduket kur largohet stimuli." }
          },
          {
            q: { en: "Spontaneous, lingering pain that wakes the patient at night suggests:", sq: "Dhimbja spontane e zgjatur qÃ« zgjon pacientin natÃ«n sugjeron:" },
            options: { en: ["Reversible pulpitis", "Irreversible pulpitis", "Apical periodontitis", "Cracked tooth"], sq: ["Pulpit reversibil", "Pulpit ireversibil", "Periodontit apikal", "DhÃ«mb i Ã§arÃ«"] },
            correct: 1,
            explanation: { en: "<strong>Irreversible pulpitis</strong> â€” spontaneous pain, lingers, disturbs sleep. Treatment: RCT or extraction.", sq: "<strong>Pulpit ireversibil</strong> â€” dhimbje spontane, zgjat, shqetÃ«son gjumin. Trajtimi: RCT ose ekstraksion." }
          },
          {
            q: { en: "A tooth with no response to EPT or cold test most likely has:", sq: "NjÃ« dhÃ«mb pa pÃ«rgjigje ndaj EPT ose testit tÃ« ftohtÃ« ka mÃ« sÃ« shumti:" },
            options: { en: ["Reversible pulpitis", "Normal pulp", "Pulp necrosis", "Internal resorption"], sq: ["Pulpit reversibil", "PulpÃ« normale", "NekrozÃ« pulpe", "Resorbim intern"] },
            correct: 2,
            explanation: { en: "<strong>Pulp necrosis</strong> â€” no response to vitality tests.", sq: "<strong>Nekroza e pulpÃ«s</strong> â€” pa pÃ«rgjigje ndaj testeve tÃ« vitalitetit." }
          },
          {
            q: { en: "The most reliable method to test pulp vitality (blood flow) is:", sq: "Metoda mÃ« e besueshme pÃ«r testimin e vitalitetit tÃ« pulpÃ«s (qarkullimit) Ã«shtÃ«:" },
            options: { en: ["Cold test", "Electric pulp test", "Laser Doppler flowmetry", "Heat test"], sq: ["Testi i ftohtÃ«", "Testi elektrik i pulpÃ«s", "Flowmetria Laser Doppler", "Testi i nxehtÃ«"] },
            correct: 2,
            explanation: { en: "<strong>Laser Doppler flowmetry</strong> measures actual blood flow (true vitality), not nerve response.", sq: "<strong>Flowmetria Laser Doppler</strong> mat qarkullimin e vÃ«rtetÃ« (vitalitetin), jo pÃ«rgjigjen nervore." }
          },
          {
            q: { en: "Percussion sensitivity indicates pathology in which tissue?", sq: "NdjeshmÃ«ria ndaj perkusionit tregon patologji nÃ« cilin ind?" },
            options: { en: ["Pulp", "Periapical tissues (PDL)", "Enamel", "Gingiva"], sq: ["PulpÃ«n", "Indet periapikale (PDL)", "SmaltÃ«n", "GingivÃ«n"] },
            correct: 1,
            explanation: { en: "<strong>Periapical tissues / PDL</strong> â€” percussion tests the periodontal ligament, NOT the pulp.", sq: "<strong>Indet periapikale / PDL</strong> â€” perkusioni teston ligamentin periodontal, JO pulpÃ«n." }
          }
        ]
      }
    ]
  },
  {
    id: "radiology",
    name: { en: "Oral Radiology", sq: "Radiologjia Orale" },
    emoji: "ğŸ“¡",
    desc: { en: "Imaging techniques & interpretation", sq: "Teknikat e imazhimit dhe interpretimi" },
    topics: [
      {
        name: { en: "CBCT & Imaging Basics", sq: "CBCT dhe Bazat e Imazhimit" },
        questions: [
          {
            q: { en: "What is the main advantage of CBCT over conventional CT?", sq: "Cila Ã«shtÃ« pÃ«rparÃ«sia kryesore e CBCT ndaj CT konvencionale?" },
            options: { en: ["Better soft tissue contrast", "Lower radiation dose", "Higher soft tissue resolution", "Faster processing"], sq: ["Kontrast mÃ« i mirÃ« i indeve tÃ« buta", "DozÃ« mÃ« e ulÃ«t e rrezatimit", "Rezolucion mÃ« i lartÃ« i indeve tÃ« buta", "PÃ«rpunim mÃ« i shpejtÃ«"] },
            correct: 1,
            explanation: { en: "<strong>Lower radiation dose</strong> â€” up to 98% less than medical CT.", sq: "<strong>DozÃ« mÃ« e ulÃ«t rrezatimi</strong> â€” deri 98% mÃ« pak se CT mjekÃ«sore." }
          },
          {
            q: { en: "CBCT is indicated over periapical radiography when:", sq: "CBCT indikohet mbi radiografinÃ« periapikale kur:" },
            options: { en: ["Diagnosing simple caries", "Routine endodontic treatment", "Complex impactions near vital structures", "Checking periodontal bone levels"], sq: ["Diagnostikimi i kariesit tÃ« thjeshtÃ«", "Trajtimi endodontik rutinor", "Impaktime komplekse pranÃ« strukturave vitale", "Kontrollimi i niveleve tÃ« kockÃ«s periodontale"] },
            correct: 2,
            explanation: { en: "CBCT for <strong>complex cases</strong>: impactions near IAN/sinus, supernumeraries, root resorption, pre-implant planning.", sq: "CBCT pÃ«r <strong>raste komplekse</strong>: impaktime pranÃ« IAN/sinusit, supranumerar, resorbim rrÃ«nje, planifikim para-implantit." }
          },
          {
            q: { en: "In CBCT, a voxel is:", sq: "NÃ« CBCT, vokseli Ã«shtÃ«:" },
            options: { en: ["A 2D pixel", "A 3D volumetric unit", "A type of artifact", "A radiation dose measure"], sq: ["Piksel 2D", "NjÃ«si vÃ«llimore 3D", "Lloj artefakti", "MasÃ« e dozÃ«s sÃ« rrezatimit"] },
            correct: 1,
            explanation: { en: "A <strong>voxel</strong> is the smallest 3D unit in a CBCT dataset. Smaller = higher resolution but more radiation.", sq: "<strong>Vokseli</strong> Ã«shtÃ« njÃ«sia mÃ« e vogÃ«l 3D nÃ« tÃ« dhÃ«nat CBCT. MÃ« i vogÃ«l = rezolucion mÃ« i lartÃ« por mÃ« shumÃ« rrezatim." }
          },
          {
            q: { en: "Which artifact is most common near metallic restorations in CBCT?", sq: "Cili artefakt Ã«shtÃ« mÃ« i zakonshÃ«m pranÃ« restaurimeve metalike nÃ« CBCT?" },
            options: { en: ["Motion blur", "Beam hardening (streak artifacts)", "Ghost images", "Aliasing"], sq: ["Turbullim nga lÃ«vizja", "NgurtÃ«sim i rrezes (artefakte me vija)", "Imazhe fantazmÃ«", "Aliasing"] },
            correct: 1,
            explanation: { en: "<strong>Beam hardening</strong> causes dark streaks near dense objects.", sq: "<strong>NgurtÃ«simi i rrezes</strong> shkakton vija tÃ« errÃ«ta pranÃ« objekteve tÃ« dendura." }
          },
          {
            q: { en: "The FOV in CBCT should be selected based on:", sq: "FOV nÃ« CBCT duhet zgjedhur bazuar nÃ«:" },
            options: { en: ["Always use the largest", "The diagnostic question â€” as small as achievable", "Patient age only", "Machine type"], sq: ["GjithmonÃ« pÃ«rdor mÃ« tÃ« madhin", "Pyetjen diagnostike â€” sa mÃ« i vogÃ«l tÃ« jetÃ« i mundur", "VetÃ«m moshÃ«n e pacientit", "Llojin e aparatit"] },
            correct: 1,
            explanation: { en: "Follow <strong>ALARA</strong> â€” smallest FOV that answers the clinical question.", sq: "Ndiq <strong>ALARA</strong> â€” FOV mÃ« i vogÃ«l qÃ« i pÃ«rgjigjet pyetjes klinike." }
          }
        ]
      }
    ]
  },
  {
    id: "perio",
    name: { en: "Periodontology", sq: "Periodontologjia" },
    emoji: "ğŸ¦ ",
    desc: { en: "Periodontal disease & management", sq: "SÃ«mundjet periodontale dhe menaxhimi" },
    topics: [
      {
        name: { en: "Classification & Diagnosis", sq: "Klasifikimi dhe Diagnoza" },
        questions: [
          {
            q: { en: "Stage III periodontitis is characterized by:", sq: "Periodontiti i FazÃ«s III karakterizohet nga:" },
            options: { en: ["CAL 1-2mm", "CAL 3-4mm", "CAL â‰¥5mm", "No bone loss"], sq: ["CAL 1-2mm", "CAL 3-4mm", "CAL â‰¥5mm", "Pa humbje kocke"] },
            correct: 2,
            explanation: { en: "<strong>Stage III: CAL â‰¥5mm</strong>, bone loss to middle/apical third of root.", sq: "<strong>Faza III: CAL â‰¥5mm</strong>, humbje kocke deri nÃ« tÃ« tretÃ«n e mesme/apikale tÃ« rrÃ«njÃ«s." }
          },
          {
            q: { en: "Grade C periodontitis indicates:", sq: "Periodontiti Grada C tregon:" },
            options: { en: ["Slow progression", "Moderate progression", "Rapid progression", "No progression"], sq: ["Progresion tÃ« ngadaltÃ«", "Progresion tÃ« moderuar", "Progresion tÃ« shpejtÃ«", "Pa progresion"] },
            correct: 2,
            explanation: { en: "<strong>Grade C = rapid progression</strong>. >2mm bone loss over 5 years.", sq: "<strong>Grada C = progresion i shpejtÃ«</strong>. >2mm humbje kocke gjatÃ« 5 viteve." }
          },
          {
            q: { en: "The primary etiologic factor for periodontal disease is:", sq: "Faktori kryesor etiologjik i sÃ«mundjes periodontale Ã«shtÃ«:" },
            options: { en: ["Calculus", "Bacterial biofilm (plaque)", "Smoking", "Genetic susceptibility"], sq: ["GurÃ«t e dhÃ«mbÃ«ve", "Biofilmi bakterial (pllaka)", "Pirja e duhanit", "Predispozita gjenetike"] },
            correct: 1,
            explanation: { en: "<strong>Bacterial biofilm</strong> is the primary cause. Calculus is a contributing factor.", sq: "<strong>Biofilmi bakterial</strong> Ã«shtÃ« shkaku kryesor. GurÃ«t janÃ« faktor kontribues." }
          },
          {
            q: { en: "BOP (Bleeding on Probing) indicates:", sq: "BOP (Gjakderdhja nÃ« Sondim) tregon:" },
            options: { en: ["Active bone loss", "Gingival/periodontal inflammation", "Irreversible damage", "Need for antibiotics"], sq: ["Humbje aktive kocke", "Inflamacion gingival/periodontal", "DÃ«mtim ireversibil", "NevojÃ« pÃ«r antibiotikÃ«"] },
            correct: 1,
            explanation: { en: "<strong>BOP = inflammation</strong>. Earliest clinical sign. Absence of BOP predicts stability.", sq: "<strong>BOP = inflamacion</strong>. Shenja e parÃ« klinike. Mungesa e BOP parashikon stabilitet." }
          },
          {
            q: { en: "A true periodontal pocket differs from a pseudopocket in that:", sq: "Xhepi i vÃ«rtetÃ« periodontal dallon nga pseudoxhepi sepse:" },
            options: { en: ["Has gingival enlargement only", "Has apical migration of junctional epithelium", "Probing depth <3mm", "No bone loss"], sq: ["Ka vetÃ«m zmadhim gingival", "Ka migrim apikal tÃ« epitelit bashkues", "ThellÃ«sia e sondimit <3mm", "Pa humbje kocke"] },
            correct: 1,
            explanation: { en: "True pocket: <strong>apical migration of junctional epithelium</strong> with attachment loss.", sq: "Xhepi i vÃ«rtetÃ«: <strong>migrim apikal i epitelit bashkues</strong> me humbje tÃ« lidhjes." }
          }
        ]
      }
    ]
  },
  {
    id: "operative",
    name: { en: "Operative Dentistry", sq: "Dentistria Operative" },
    emoji: "ğŸª¥",
    desc: { en: "Dental materials, restorations & techniques", sq: "Materialet dentare, restaurimet dhe teknikat" },
    topics: [
      {
        name: { en: "Glass Ionomer Cement (GIC)", sq: "Ã‡imentoja Glas Ionomer (GIC)" },
        questions: [
          {
            q: { en: "What is the powder component of conventional GIC?", sq: "Cili Ã«shtÃ« komponenti pluhur i GIC konvencionale?" },
            options: { en: ["Zinc oxide + magnesium oxide", "Calcium-fluoroaluminosilicate glass", "Quartz + barium glass", "Polymethyl methacrylate"], sq: ["Oksid zinku + oksid magnezi", "Qelq kalcium-fluoroaluminosilikat", "Kuarc + qelq bariumi", "Polimetilmetakrilat"] },
            correct: 1,
            explanation: { en: "The powder is <strong>calcium-fluoroaluminosilicate glass</strong> (SiOâ‚‚, Alâ‚‚Oâ‚ƒ, CaFâ‚‚, Naâ‚ƒAlFâ‚†, AlPOâ‚„). The fluoride gives GIC its anticariogenic property.", sq: "Pluhuri Ã«shtÃ« <strong>qelq kalcium-fluoroaluminosilikat</strong> (SiOâ‚‚, Alâ‚‚Oâ‚ƒ, CaFâ‚‚, Naâ‚ƒAlFâ‚†, AlPOâ‚„). Fluoridi i jep GIC-sÃ« vetinÃ« antikariogjene." }
          },
          {
            q: { en: "What is the liquid component of conventional GIC?", sq: "Cili Ã«shtÃ« komponenti i lÃ«ngshÃ«m i GIC konvencionale?" },
            options: { en: ["Phosphoric acid", "Eugenol", "Polyacrylic acid (PAA)", "MMA monomer"], sq: ["Acidi fosforik", "Eugenoli", "Acidi poliakrillik (PAA)", "Monomeri MMA"] },
            correct: 2,
            explanation: { en: "<strong>Polyacrylic acid</strong> (40-50% solution). Some also contain tartaric acid which controls setting time.", sq: "<strong>Acidi poliakrillik</strong> (solucioni 40-50%). Disa pÃ«rmbajnÃ« edhe acid tartarik qÃ« kontrollon kohÃ«n e ngurtÃ«simit." }
          },
          {
            q: { en: "The setting reaction of GIC is:", sq: "Reaksioni i ngurtÃ«simit tÃ« GIC Ã«shtÃ«:" },
            options: { en: ["Addition polymerization", "Condensation polymerization", "Acid-base reaction", "Light-activated polymerization"], sq: ["Polimerizim i adicionit", "Polimerizim i kondensimit", "Reaksion acid-bazÃ«", "Polimerizim i aktivizuar me dritÃ«"] },
            correct: 2,
            explanation: { en: "GIC sets by an <strong>acid-base reaction</strong>. CaÂ²âº cross-links first (initial set), then AlÂ³âº (final set, 24-48h).", sq: "GIC ngurtÃ«sohet me <strong>reaksion acid-bazÃ«</strong>. CaÂ²âº lidhet i pari (ngurtÃ«sim fillestar), pastaj AlÂ³âº (ngurtÃ«sim final, 24-48h)." }
          },
          {
            q: { en: "The powder:liquid ratio for luting GIC is:", sq: "Raporti pluhur:lÃ«ng pÃ«r GIC Ã§imentuese Ã«shtÃ«:" },
            options: { en: ["1.5:1", "3:1", "4:1", "1:1"], sq: ["1.5:1", "3:1", "4:1", "1:1"] },
            correct: 0,
            explanation: { en: "Luting GIC: <strong>1.5:1</strong> (thin). Restorative: 3:1 to 4:1 (thick).", sq: "GIC Ã§imentuese: <strong>1.5:1</strong> (e hollÃ«). Restauruese: 3:1 deri 4:1 (e trashÃ«)." }
          },
          {
            q: { en: "Which GIC generation contains resin (HEMA)?", sq: "Cila gjeneratÃ« e GIC pÃ«rmban rezinÃ« (HEMA)?" },
            options: { en: ["Conventional GIC", "Cermet", "Resin-modified GIC (RMGIC)", "High-viscosity GIC"], sq: ["GIC konvencionale", "Cermet", "GIC e modifikuar me rezinÃ« (RMGIC)", "GIC me viskozitet tÃ« lartÃ«"] },
            correct: 2,
            explanation: { en: "<strong>RMGIC</strong> contains HEMA + photoinitiators. Sets by BOTH acid-base AND light-cured polymerization.", sq: "<strong>RMGIC</strong> pÃ«rmban HEMA + fotoiniciatorÃ«. NgurtÃ«sohet me TÃ‹ DY reaksion acid-bazÃ« DHE polimerizim me dritÃ«." }
          },
          {
            q: { en: "GIC bonds to tooth structure via:", sq: "GIC lidhet me strukturÃ«n e dhÃ«mbit pÃ«rmes:" },
            options: { en: ["Micromechanical retention only", "Chemical bond to calcium in hydroxyapatite", "Resin infiltration of etched enamel", "Van der Waals forces only"], sq: ["VetÃ«m retension mekanike", "Lidhje kimike me kalciumin nÃ« hidroksiapatit", "Infiltrim rezine nÃ« smalt tÃ« gdhendur", "VetÃ«m forca Van der Waals"] },
            correct: 1,
            explanation: { en: "GIC forms a <strong>chemical bond</strong> â€” carboxyl groups bond to calcium in hydroxyapatite. No etching needed.", sq: "GIC formon <strong>lidhje kimike</strong> â€” grupet karboksile lidhen me kalciumin nÃ« hidroksiapatit. Nuk nevojitet gdhendja." }
          },
          {
            q: { en: "Which type of GIC is used for ART technique?", sq: "Cili tip i GIC pÃ«rdoret pÃ«r teknikÃ«n ART?" },
            options: { en: ["Type I (luting)", "Type II â€” high viscosity", "RMGIC", "Type III (liner)"], sq: ["Tipi I (Ã§imentuese)", "Tipi II â€” viskozitet i lartÃ«", "RMGIC", "Tipi III (liner)"] },
            correct: 1,
            explanation: { en: "<strong>High-viscosity GIC (Type II)</strong> for ART â€” hand instruments only, ideal for field conditions.", sq: "<strong>GIC me viskozitet tÃ« lartÃ« (Tipi II)</strong> pÃ«r ART â€” vetÃ«m instrumente dore, ideale pÃ«r kushte nÃ« terren." }
          },
          {
            q: { en: "GIC fluoride release pattern is:", sq: "Modeli i lirimit tÃ« fluoridit nga GIC Ã«shtÃ«:" },
            options: { en: ["Constant forever", "High initial burst, then sustained low release", "Only when exposed to acid", "No release after setting"], sq: ["Konstant pÃ«rgjithmonÃ«", "ShpÃ«rthim fillestar i lartÃ«, pastaj lirim i ulÃ«t i vazhdueshÃ«m", "VetÃ«m kur ekspozohet ndaj acidit", "Pa lirim pas ngurtÃ«simit"] },
            correct: 1,
            explanation: { en: "<strong>High burst first 24-48h</strong>, then sustained release for months-years. GIC can also <strong>recharge</strong> fluoride.", sq: "<strong>ShpÃ«rthim i lartÃ« 24-48h tÃ« para</strong>, pastaj lirim i vazhdueshÃ«m pÃ«r muaj-vite. GIC mund edhe tÃ« <strong>rikarikohet</strong> me fluorid." }
          },
          {
            q: { en: "Cermet contains which metal?", sq: "Cermet pÃ«rmban cilin metal?" },
            options: { en: ["Gold", "Silver-tin alloy", "Stainless steel", "Titanium"], sq: ["Ar", "Aliazh argjend-kallaj", "Ã‡elik inox", "Titan"] },
            correct: 1,
            explanation: { en: "<strong>Silver-tin alloy</strong> sintered with glass powder. Rarely used today â€” poor esthetics.", sq: "<strong>Aliazhi argjend-kallaj</strong> i sinteruar me pluhur qelqi. RrallÃ« pÃ«rdoret sot â€” estetikÃ« e dobÃ«t." }
          },
          {
            q: { en: "The main disadvantage of conventional GIC vs composite:", sq: "Disavantazhi kryesor i GIC konvencionale ndaj kompozitit:" },
            options: { en: ["No fluoride release", "Cannot bond to tooth", "Poor esthetics and low fracture toughness", "Requires etching"], sq: ["Pa lirim fluoridi", "Nuk lidhet me dhÃ«mbin", "EstetikÃ« e dobÃ«t dhe rezistencÃ« e ulÃ«t ndaj thyerjes", "KÃ«rkon gdhendje"] },
            correct: 2,
            explanation: { en: "GIC: <strong>poor esthetics, low fracture toughness, low tensile strength</strong>. But great biocompatibility and fluoride release.", sq: "GIC: <strong>estetikÃ« e dobÃ«t, rezistencÃ« e ulÃ«t ndaj thyerjes, forcÃ« e ulÃ«t tensioni</strong>. Por biokompatibilitet i shkÃ«lqyer dhe lirim fluoridi." }
          }
        ]
      },
      {
        name: { en: "Dental Amalgam", sq: "Amalgami Dentar" },
        questions: [
          {
            q: { en: "The main components of dental amalgam alloy are:", sq: "KomponentÃ«t kryesore tÃ« aliazhit tÃ« amalgamit dentar janÃ«:" },
            options: { en: ["Silver, tin, zinc, copper", "Silver, tin, copper, zinc (Â±mercury)", "Gold, palladium, silver", "Nickel, chromium, cobalt"], sq: ["Argjend, kallaj, zink, bakÃ«r", "Argjend, kallaj, bakÃ«r, zink (Â±mÃ«rkur)", "Ar, paladium, argjend", "Nikel, krom, kobalt"] },
            correct: 1,
            explanation: { en: "<strong>Ag ~40-70%, Sn ~25-30%, Cu ~13-30%, Zn 0-2%</strong>. Mixed with mercury to form amalgam.", sq: "<strong>Ag ~40-70%, Sn ~25-30%, Cu ~13-30%, Zn 0-2%</strong>. PÃ«rzihet me mÃ«rkur pÃ«r tÃ« formuar amalgamin." }
          },
          {
            q: { en: "The gamma-1 (Î³â‚) phase in amalgam is:", sq: "Faza gamma-1 (Î³â‚) nÃ« amalgam Ã«shtÃ«:" },
            options: { en: ["Agâ‚ƒSn", "Agâ‚‚Hgâ‚ƒ", "Snâ‚‡â‚‹â‚ˆHg", "Cuâ‚†Snâ‚…"], sq: ["Agâ‚ƒSn", "Agâ‚‚Hgâ‚ƒ", "Snâ‚‡â‚‹â‚ˆHg", "Cuâ‚†Snâ‚…"] },
            correct: 1,
            explanation: { en: "<strong>Î³â‚ = Agâ‚‚Hgâ‚ƒ</strong> â€” the matrix phase, strongest reaction product.", sq: "<strong>Î³â‚ = Agâ‚‚Hgâ‚ƒ</strong> â€” faza matrice, produkti mÃ« i fortÃ« i reaksionit." }
          },
          {
            q: { en: "The gamma-2 (Î³â‚‚) phase is problematic because:", sq: "Faza gamma-2 (Î³â‚‚) Ã«shtÃ« problematike sepse:" },
            options: { en: ["Too hard and brittle", "Corrodes and is the weakest phase", "Releases excessive mercury", "Expands too much"], sq: ["ShumÃ« e fortÃ« dhe e brishtÃ«", "Korodohet dhe Ã«shtÃ« faza mÃ« e dobÃ«t", "Liron mÃ«rkur tÃ« tepÃ«rt", "Zgjerohet shumÃ«"] },
            correct: 1,
            explanation: { en: "<strong>Î³â‚‚ (Snâ‚‡â‚‹â‚ˆHg)</strong> â€” weakest, most corrosion-prone. High-copper amalgams eliminate it.", sq: "<strong>Î³â‚‚ (Snâ‚‡â‚‹â‚ˆHg)</strong> â€” mÃ« e dobÃ«ta, mÃ« e prirur pÃ«r korozion. Amalgamet me bakÃ«r tÃ« lartÃ« e eliminojnÃ«." }
          },
          {
            q: { en: "High-copper amalgams were developed to:", sq: "Amalgamet me bakÃ«r tÃ« lartÃ« u zhvilluan pÃ«r:" },
            options: { en: ["Improve esthetics", "Reduce mercury", "Eliminate gamma-2 phase", "Increase working time"], sq: ["PÃ«rmirÃ«sim estetike", "Ulje mÃ«rkuri", "Eliminim faza gamma-2", "Rritje kohÃ«s sÃ« punÃ«s"] },
            correct: 2,
            explanation: { en: "High-copper (>12% Cu) <strong>eliminates Î³â‚‚</strong>. Cuâ‚†Snâ‚… forms instead â€” much more stable.", sq: "Bakri i lartÃ« (>12% Cu) <strong>eliminon Î³â‚‚</strong>. Formohet Cuâ‚†Snâ‚… â€” shumÃ« mÃ« stabil." }
          },
          {
            q: { en: "Mercury:alloy ratio in amalgam is approximately:", sq: "Raporti mÃ«rkur:aliazh nÃ« amalgam Ã«shtÃ« afÃ«rsisht:" },
            options: { en: ["1:1 (equal parts)", "1:2", "2:1", "1:10"], sq: ["1:1 (pjesÃ« tÃ« barabarta)", "1:2", "2:1", "1:10"] },
            correct: 0,
            explanation: { en: "Approximately <strong>1:1 by weight</strong> (42-50% mercury). Proper condensation minimizes residual mercury.", sq: "AfÃ«rsisht <strong>1:1 sipas peshÃ«s</strong> (42-50% mÃ«rkur). Kondensimi i duhur minimizon mÃ«rkurin e mbetur." }
          },
          {
            q: { en: "Zinc in amalgam alloy serves as:", sq: "Zinku nÃ« aliazhin e amalgamit shÃ«rben si:" },
            options: { en: ["Increases strength", "Scavenger/deoxidizer during manufacturing", "Improves corrosion resistance", "Reduces expansion"], sq: ["Rrit forcÃ«n", "Pastrues/deoksidues gjatÃ« prodhimit", "PÃ«rmirÃ«son rezistencÃ«n ndaj korozionit", "Ul zgjerimin"] },
            correct: 1,
            explanation: { en: "Zinc is a <strong>scavenger/deoxidizer</strong>. Moisture contamination of zinc-containing amalgam â†’ delayed expansion.", sq: "Zinku Ã«shtÃ« <strong>pastrues/deoksidues</strong>. Kontaminimi me lagÃ«shti i amalgamit me zink â†’ zgjerim i vonuar." }
          },
          {
            q: { en: "Trituration refers to:", sq: "Triturimi i referohet:" },
            options: { en: ["Carving", "Mixing alloy with mercury", "Polishing", "Condensing"], sq: ["Gdhendjes", "PÃ«rzierjes sÃ« aliazhit me mÃ«rkur", "Lustrimit", "Kondensimit"] },
            correct: 1,
            explanation: { en: "<strong>Trituration = mechanical mixing</strong> of alloy + mercury. Under-trituration â†’ grainy. Over-trituration â†’ fast setting.", sq: "<strong>Triturimi = pÃ«rzierje mekanike</strong> e aliazhit + mÃ«rkurit. NÃ«n-triturim â†’ kokÃ«rrzor. Mbri-triturim â†’ ngurtÃ«sim i shpejtÃ«." }
          },
          {
            q: { en: "Creep in dental amalgam refers to:", sq: "Creep nÃ« amalgamin dentar i referohet:" },
            options: { en: ["Expansion from moisture", "Slow deformation under constant load", "Corrosion at interface", "Mercury release"], sq: ["Zgjerim nga lagÃ«shtia", "Deformim i ngadaltÃ« nÃ«n ngarkesÃ« konstante", "Korozion nÃ« ndÃ«rfaqe", "Lirim mÃ«rkuri"] },
            correct: 1,
            explanation: { en: "<strong>Creep = slow plastic deformation under constant compressive load</strong>. Related to Î³â‚‚ presence.", sq: "<strong>Creep = deformim plastik i ngadaltÃ« nÃ«n ngarkesÃ« kompresive konstante</strong>. Lidhet me praninÃ« e Î³â‚‚." }
          },
          {
            q: { en: "The Agâ‚ƒSn phase is called:", sq: "Faza Agâ‚ƒSn quhet:" },
            options: { en: ["Gamma-1", "Gamma-2", "Gamma (Î³)", "Eta (Î·)"], sq: ["Gamma-1", "Gamma-2", "Gamma (Î³)", "Eta (Î·)"] },
            correct: 2,
            explanation: { en: "<strong>Gamma (Î³) = Agâ‚ƒSn</strong> â€” the original unreacted alloy, strongest phase.", sq: "<strong>Gamma (Î³) = Agâ‚ƒSn</strong> â€” aliazhi origjinal i pareaguar, faza mÃ« e fortÃ«." }
          },
          {
            q: { en: "Single-composition high-copper amalgam uses which particle shape?", sq: "Amalgami me bakÃ«r tÃ« lartÃ« me kompozicion tÃ« vetÃ«m pÃ«rdor cilÃ«n formÃ« grimce?" },
            options: { en: ["Lathe-cut only", "Admixed", "Spherical", "All can be spherical"], sq: ["VetÃ«m lathe-cut", "Admixed", "Sferike", "TÃ« gjitha mund tÃ« jenÃ« sferike"] },
            correct: 2,
            explanation: { en: "<strong>Spherical particles</strong> (e.g., Tytin). Require less mercury and less condensation force.", sq: "<strong>Grimca sferike</strong> (p.sh., Tytin). KÃ«rkojnÃ« mÃ« pak mÃ«rkur dhe forcÃ« kondensimi." }
          }
        ]
      },
      {
        name: { en: "Composite Resin", sq: "Rezina Kompozite" },
        questions: [
          {
            q: { en: "The three main components of dental composite are:", sq: "Tre komponentÃ«t kryesore tÃ« kompozitit dentar janÃ«:" },
            options: { en: ["Powder, liquid, catalyst", "Resin matrix, filler particles, coupling agent", "HEMA, polyacrylic acid, glass", "Monomer, polymer, solvent"], sq: ["Pluhur, lÃ«ng, katalizator", "Matrica rezinore, grimca mbushÃ«se, agjent lidhÃ«s", "HEMA, acid poliakrillik, qelq", "Monomer, polimer, tretÃ«s"] },
            correct: 1,
            explanation: { en: "<strong>1) Resin matrix</strong> (Bis-GMA, UDMA, TEGDMA), <strong>2) Fillers</strong> (quartz, silica, barium glass), <strong>3) Coupling agent</strong> (silane).", sq: "<strong>1) Matrica rezinore</strong> (Bis-GMA, UDMA, TEGDMA), <strong>2) MbushÃ«set</strong> (kuarc, silikÃ«, qelq bariumi), <strong>3) Agjenti lidhÃ«s</strong> (silan)." }
          },
          {
            q: { en: "Bis-GMA (Bowen's resin) is:", sq: "Bis-GMA (rezina e Bowen-it) Ã«shtÃ«:" },
            options: { en: ["The filler", "The most common resin matrix monomer", "A type of GIC", "The coupling agent"], sq: ["MbushÃ«si", "Monomeri mÃ« i zakonshÃ«m i matricÃ«s rezinore", "Lloj i GIC", "Agjenti lidhÃ«s"] },
            correct: 1,
            explanation: { en: "<strong>Bis-GMA</strong> â€” developed by Bowen 1962. Diluted with TEGDMA for workability.", sq: "<strong>Bis-GMA</strong> â€” zhvilluar nga Bowen 1962. Hollohet me TEGDMA pÃ«r punueshmÃ«ri." }
          },
          {
            q: { en: "The coupling agent in composite is:", sq: "Agjenti lidhÃ«s nÃ« kompozit Ã«shtÃ«:" },
            options: { en: ["Camphorquinone", "Silane", "Benzoyl peroxide", "BHT"], sq: ["Kamforokinoni", "Silani", "Benzoil peroksidit", "BHT"] },
            correct: 1,
            explanation: { en: "<strong>Silane</strong> â€” bonds filler to resin matrix. Without it, composite would be weak.", sq: "<strong>Silani</strong> â€” lidh mbushÃ«sin me matricÃ«n rezinore. Pa tÃ«, kompoziti do ishte i dobÃ«t." }
          },
          {
            q: { en: "Camphorquinone functions as:", sq: "Kamforokinoni funksionon si:" },
            options: { en: ["Inhibitor", "Photoinitiator (~470nm blue light)", "UV stabilizer", "Coupling agent"], sq: ["Frenues", "Fotoiniciator (~470nm dritÃ« blu)", "Stabilizues UV", "Agjent lidhÃ«s"] },
            correct: 1,
            explanation: { en: "<strong>Camphorquinone</strong> absorbs blue light at ~468nm, generating free radicals for polymerization.", sq: "<strong>Kamforokinoni</strong> absorbon dritÃ« blu nÃ« ~468nm, duke gjeneruar radikale tÃ« lira pÃ«r polimerizim." }
          },
          {
            q: { en: "Nanofilled composites contain:", sq: "Kompozitet nanofilled pÃ«rmbajnÃ«:" },
            options: { en: ["Larger filler particles", "Nanoparticles (5-100nm) and nanoclusters", "No resin matrix", "Chemical cure only"], sq: ["Grimca mbushÃ«se mÃ« tÃ« mÃ«dha", "Nanogrimca (5-100nm) dhe nanoklustere", "Pa matrice rezinore", "VetÃ«m polimerizim kimik"] },
            correct: 1,
            explanation: { en: "<strong>Nanofilled</strong> = excellent polishability + strength. Usable anterior and posterior.", sq: "<strong>Nanofilled</strong> = lustrim i shkÃ«lqyer + forcÃ«. PÃ«rdoret anterior dhe posterior." }
          },
          {
            q: { en: "Classification by filler size (largest to smallest):", sq: "Klasifikimi sipas madhÃ«sisÃ« sÃ« mbushÃ«sit (mÃ« i madh te mÃ« i vogli):" },
            options: { en: ["Macrofill â†’ Hybrid â†’ Microfill â†’ Nanofill", "Nanofill â†’ Microfill â†’ Hybrid â†’ Macrofill", "Microfill â†’ Macrofill â†’ Hybrid â†’ Nanofill", "Hybrid â†’ Macrofill â†’ Nanofill â†’ Microfill"], sq: ["Makrofill â†’ Hibrid â†’ Mikrofill â†’ Nanofill", "Nanofill â†’ Mikrofill â†’ Hibrid â†’ Makrofill", "Mikrofill â†’ Makrofill â†’ Hibrid â†’ Nanofill", "Hibrid â†’ Makrofill â†’ Nanofill â†’ Mikrofill"] },
            correct: 0,
            explanation: { en: "<strong>Macrofill (10-100Î¼m) â†’ Hybrid â†’ Microfill (0.04Î¼m) â†’ Nanofill (5-100nm)</strong>.", sq: "<strong>Makrofill (10-100Î¼m) â†’ Hibrid â†’ Mikrofill (0.04Î¼m) â†’ Nanofill (5-100nm)</strong>." }
          },
          {
            q: { en: "Polymerization shrinkage of composite is:", sq: "Tkurrja e polimerizimit tÃ« kompozitit Ã«shtÃ«:" },
            options: { en: ["0.1-0.5%", "1-5%", "10-15%", "15-20%"], sq: ["0.1-0.5%", "1-5%", "10-15%", "15-20%"] },
            correct: 1,
            explanation: { en: "<strong>1-5% volumetric shrinkage</strong>. Managed by incremental layering (2mm layers).", sq: "<strong>1-5% tkurrje vÃ«llimore</strong>. Menaxhohet me shtresim inkremental (shtresa 2mm)." }
          },
          {
            q: { en: "Incremental layering is used to:", sq: "Shtresimi inkremental pÃ«rdoret pÃ«r:" },
            options: { en: ["Improve esthetics only", "Reduce shrinkage stress and improve cure depth", "Save material", "Speed up procedure"], sq: ["VetÃ«m pÃ«rmirÃ«sim estetike", "Ulje stresit tÃ« tkurrjes dhe pÃ«rmirÃ«sim thellÃ«sisÃ« sÃ« polimerizimit", "Kursim materiali", "Shpejtim procedure"] },
            correct: 1,
            explanation: { en: "Max <strong>2mm layers</strong>: reduces C-factor stress + ensures light penetration.", sq: "Maksimum <strong>shtresa 2mm</strong>: ul stresin e C-faktorit + siguron penetrim tÃ« dritÃ«s." }
          },
          {
            q: { en: "C-factor is the ratio of:", sq: "C-faktori Ã«shtÃ« raporti i:" },
            options: { en: ["Filler to resin", "Bonded to unbonded surfaces", "Powder to liquid", "Shrinkage to expansion"], sq: ["MbushÃ«sit ndaj rezinÃ«s", "SipÃ«rfaqeve tÃ« lidhura ndaj tÃ« palidhura", "Pluhur ndaj lÃ«ng", "Tkurrjes ndaj zgjerimit"] },
            correct: 1,
            explanation: { en: "<strong>C-factor = bonded Ã· free surfaces</strong>. Class I = 5 (high stress). Higher C-factor â†’ more debonding risk.", sq: "<strong>C-faktori = sipÃ«rfaqe tÃ« lidhura Ã· tÃ« lira</strong>. Klasa I = 5 (stres i lartÃ«). C-faktor mÃ« i lartÃ« â†’ rrezik mÃ« i madh debonding." }
          },
          {
            q: { en: "Which filler gives composite radiopacity?", sq: "Cili mbushÃ«s i jep kompozitit radiopacitet?" },
            options: { en: ["Quartz", "Colloidal silica", "Barium glass or strontium glass", "Zirconia only"], sq: ["Kuarci", "SilikÃ« koloidale", "Qelq bariumi ose qelq stronsimi", "VetÃ«m zirkonia"] },
            correct: 2,
            explanation: { en: "<strong>Barium glass, strontium glass, or ytterbium fluoride</strong> for radiopacity.", sq: "<strong>Qelq bariumi, qelq stronsimi, ose fluorid iteribiumi</strong> pÃ«r radiopacitet." }
          }
        ]
      },
      {
        name: { en: "Zinc Oxide Cements", sq: "Ã‡imentot e Oksidit tÃ« Zinkut" },
        questions: [
          {
            q: { en: "ZOE cement powder and liquid are:", sq: "Pluhuri dhe lÃ«ngu i Ã§imentÃ«s ZOE janÃ«:" },
            options: { en: ["ZnO + polyacrylic acid", "ZnO + eugenol (oil of cloves)", "ZnO + phosphoric acid", "Ca(OH)â‚‚ + water"], sq: ["ZnO + acid poliakrillik", "ZnO + eugenol (vaj karafilash)", "ZnO + acid fosforik", "Ca(OH)â‚‚ + ujÃ«"] },
            correct: 1,
            explanation: { en: "<strong>Powder: ZnO. Liquid: Eugenol</strong> (from oil of cloves/oleum caryophylli). Most biocompatible cement.", sq: "<strong>Pluhuri: ZnO. LÃ«ngu: Eugenol</strong> (nga vaji i karafilashit/oleum caryophylli). Ã‡imentoja mÃ« biokompatibile." }
          },
          {
            q: { en: "ZOE setting reaction produces:", sq: "Reaksioni i ngurtÃ«simit tÃ« ZOE prodhon:" },
            options: { en: ["Zinc phosphate", "Zinc eugenolate", "Zinc polycarboxylate", "Calcium eugenolate"], sq: ["Fosfat zinku", "Eugenolat zinku", "Polikarboksilat zinku", "Eugenolat kalciumi"] },
            correct: 1,
            explanation: { en: "ZnO + Eugenol â†’ <strong>Zinc eugenolate</strong> (chelate compound).", sq: "ZnO + Eugenol â†’ <strong>Eugenolat zinku</strong> (kompound kelat)." }
          },
          {
            q: { en: "ZOE should NOT be used under composite because:", sq: "ZOE NUK duhet pÃ«rdorur nÃ«n kompozit sepse:" },
            options: { en: ["Too strong", "Eugenol inhibits resin polymerization", "Releases too much fluoride", "Bonds too strongly"], sq: ["ShumÃ« e fortÃ«", "Eugenoli frenon polimerizimin e rezinÃ«s", "Liron shumÃ« fluorid", "Lidhet shumÃ« fortÃ«"] },
            correct: 1,
            explanation: { en: "<strong>Eugenol inhibits resin polymerization</strong> â€” results in soft, poorly cured layer.", sq: "<strong>Eugenoli frenon polimerizimin e rezinÃ«s</strong> â€” rezulton shtresÃ« e butÃ«, e polimerizuar keq." }
          },
          {
            q: { en: "Zinc Phosphate cement powder contains:", sq: "Pluhuri i Ã§imentÃ«s Fosfat Zinku pÃ«rmban:" },
            options: { en: ["ZnO only", "ZnO (~90%) + MgO (~10%)", "Calcium fluoroaluminosilicate glass", "Silver-tin alloy"], sq: ["VetÃ«m ZnO", "ZnO (~90%) + MgO (~10%)", "Qelq kalcium-fluoroaluminosilikat", "Aliazh argjend-kallaj"] },
            correct: 1,
            explanation: { en: "<strong>ZnO (~90%) + MgO (~10%)</strong>. Liquid: phosphoric acid (~67%) buffered with Al and Zn.", sq: "<strong>ZnO (~90%) + MgO (~10%)</strong>. LÃ«ngu: acid fosforik (~67%) i buferuar me Al dhe Zn." }
          },
          {
            q: { en: "Zinc Phosphate cement liquid is:", sq: "LÃ«ngu i Ã§imentÃ«s Fosfat Zinku Ã«shtÃ«:" },
            options: { en: ["Eugenol", "Polyacrylic acid", "Phosphoric acid (~67%)", "Water"], sq: ["Eugenol", "Acid poliakrillik", "Acid fosforik (~67%)", "UjÃ«"] },
            correct: 2,
            explanation: { en: "<strong>Phosphoric acid (~67%)</strong> buffered with aluminum and zinc phosphate.", sq: "<strong>Acidi fosforik (~67%)</strong> i buferuar me fosfat alumini dhe zinku." }
          },
          {
            q: { en: "Zinc Phosphate requires a cooled glass slab because:", sq: "Fosfati i Zinkut kÃ«rkon pllakÃ« qelqi tÃ« ftohur sepse:" },
            options: { en: ["Improve esthetics", "Slow exothermic reaction, extend working time", "Increase film thickness", "Reduce fluoride release"], sq: ["PÃ«rmirÃ«son estetikÃ«n", "NgadalÃ«son reaksionin ekzotermik, zgjat kohÃ«n e punÃ«s", "Rrit trashÃ«sinÃ« e filmit", "Ul lirimin e fluoridit"] },
            correct: 1,
            explanation: { en: "<strong>Highly exothermic</strong>. Cooled slab slows reaction, allows more powder = stronger cement.", sq: "<strong>ShumÃ« ekzotermike</strong>. Pllaka e ftohur ngadalÃ«son reaksionin, lejon mÃ« shumÃ« pluhur = Ã§imento mÃ« e fortÃ«." }
          },
          {
            q: { en: "Zinc Polycarboxylate cement liquid contains:", sq: "LÃ«ngu i Ã§imentÃ«s Polikarboksilat Zinku pÃ«rmban:" },
            options: { en: ["Phosphoric acid", "Eugenol", "Polyacrylic acid (37-40%)", "HEMA"], sq: ["Acid fosforik", "Eugenol", "Acid poliakrillik (37-40%)", "HEMA"] },
            correct: 2,
            explanation: { en: "<strong>Polyacrylic acid (37-40%)</strong>. First cement to chemically bond to tooth (Smith, 1968).", sq: "<strong>Acid poliakrillik (37-40%)</strong>. Ã‡imentoja e parÃ« me lidhje kimike me dhÃ«mbin (Smith, 1968)." }
          },
          {
            q: { en: "Which zinc oxide cement has a sedative effect on the pulp?", sq: "Cila Ã§imento e oksidit tÃ« zinkut ka efekt sedativ nÃ« pulpÃ«?" },
            options: { en: ["Zinc phosphate", "Zinc polycarboxylate", "ZOE", "All equally"], sq: ["Fosfat zinku", "Polikarboksilat zinku", "ZOE", "TÃ« gjitha njÃ«soj"] },
            correct: 2,
            explanation: { en: "<strong>ZOE</strong> â€” best biocompatibility, sedative effect from eugenol's anti-inflammatory properties.", sq: "<strong>ZOE</strong> â€” biokompatibiliteti mÃ« i mirÃ«, efekt sedativ nga vetitÃ« anti-inflamatore tÃ« eugenolit." }
          },
          {
            q: { en: "IRM (Intermediate Restorative Material) is a reinforced form of:", sq: "IRM Ã«shtÃ« formÃ« e pÃ«rforcuar e:" },
            options: { en: ["Zinc phosphate", "ZOE", "GIC", "Composite"], sq: ["Fosfatit tÃ« zinkut", "ZOE", "GIC", "Kompozitit"] },
            correct: 1,
            explanation: { en: "<strong>IRM = reinforced ZOE</strong> with PMMA fillers and EBA replacing some eugenol.", sq: "<strong>IRM = ZOE e pÃ«rforcuar</strong> me mbushÃ«se PMMA dhe EBA duke zÃ«vendÃ«suar disa eugenol." }
          },
          {
            q: { en: "Oleum Caryophylli (oil of cloves) is the source of:", sq: "Oleum Caryophylli (vaji i karafilashit) Ã«shtÃ« burimi i:" },
            options: { en: ["Phosphoric acid", "Eugenol", "Polyacrylic acid", "Zinc oxide"], sq: ["Acidit fosforik", "Eugenolit", "Acidit poliakrillik", "Oksidit tÃ« zinkut"] },
            correct: 1,
            explanation: { en: "<strong>Eugenol</strong> â€” constitutes 85-90% of clove oil. Analgesic, anti-inflammatory, antibacterial.", sq: "<strong>Eugenoli</strong> â€” pÃ«rbÃ«n 85-90% tÃ« vajit tÃ« karafilashit. Analgjezik, anti-inflamator, antibakterial." }
          }
        ]
      },
      {
        name: { en: "Bonding Agents (Generations)", sq: "AgjentÃ«t LidhÃ«s (Gjeneratat)" },
        questions: [
          {
            q: { en: "Acid etching of enamel was introduced by:", sq: "Gdhendja acide e smaltit u prezantua nga:" },
            options: { en: ["G.V. Black", "Michael Buonocore (1955)", "Bowen (1962)", "Smith (1968)"], sq: ["G.V. Black", "Michael Buonocore (1955)", "Bowen (1962)", "Smith (1968)"] },
            correct: 1,
            explanation: { en: "<strong>Buonocore 1955</strong> â€” phosphoric acid creates microporosities for resin tags.", sq: "<strong>Buonocore 1955</strong> â€” acidi fosforik krijon mikroporozitete pÃ«r resin tags." }
          },
          {
            q: { en: "4th generation bonding agents have how many steps?", sq: "AgjentÃ«t lidhÃ«s tÃ« gjeneratÃ«s 4 kanÃ« sa hapa?" },
            options: { en: ["1 step", "2 steps", "3 steps (etch + prime + bond)", "4 steps"], sq: ["1 hap", "2 hapa", "3 hapa (gdhendÃ« + prime + bond)", "4 hapa"] },
            correct: 2,
            explanation: { en: "<strong>4th gen = 3 steps</strong>: etch, primer, adhesive. Gold standard for bond strength.", sq: "<strong>Gjenerata 4 = 3 hapa</strong>: gdhendje, primer, adeziv. Standardi i artÃ« pÃ«r forcÃ«n lidhÃ«se." }
          },
          {
            q: { en: "5th generation simplified by:", sq: "Gjenerata 5 thjeshtoi duke:" },
            options: { en: ["Eliminating etching", "Combining primer + bond in one bottle", "All three in one", "Using GIC instead"], sq: ["Eliminuar gdhendjen", "Kombinuar primer + bond nÃ« njÃ« shishe", "TÃ« tria nÃ« njÃ«", "PÃ«rdorur GIC"] },
            correct: 1,
            explanation: { en: "<strong>5th gen = 2 steps</strong>: separate etch + combined primer/adhesive.", sq: "<strong>Gjenerata 5 = 2 hapa</strong>: gdhendja veÃ§mas + primer/adeziv i kombinuar." }
          },
          {
            q: { en: "Self-etch bonding agents (6th/7th gen) differ in that:", sq: "AgjentÃ«t lidhÃ«s self-etch (gjenerata 6/7) dallojnÃ« sepse:" },
            options: { en: ["Use stronger acid", "No separate etching â€” acidic primer etches and primes", "Only work on enamel", "Require 60s light curing"], sq: ["PÃ«rdorin acid mÃ« tÃ« fortÃ«", "Pa gdhendja veÃ§mas â€” primeri acidik gdhend dhe primon njÃ«kohÃ«sisht", "PunojnÃ« vetÃ«m nÃ« smalt", "KÃ«rkojnÃ« polimerizim 60s"] },
            correct: 1,
            explanation: { en: "<strong>Self-etch</strong> contains acidic monomers (e.g., 10-MDP) that etch+prime simultaneously.", sq: "<strong>Self-etch</strong> pÃ«rmban monomerÃ« acidikÃ« (p.sh., 10-MDP) qÃ« gdhendnin+primojnÃ« njÃ«kohÃ«sisht." }
          },
          {
            q: { en: "7th generation combines which steps?", sq: "Gjenerata 7 kombinon cilat hapa?" },
            options: { en: ["Etch + prime only", "Prime + bond only", "Etch + prime + bond in ONE step", "None â€” 4 separate steps"], sq: ["VetÃ«m gdhendÃ« + prime", "VetÃ«m prime + bond", "GdhendÃ« + prime + bond nÃ« NJÃ‹ hap", "AsnjÃ« â€” 4 hapa tÃ« veÃ§uara"] },
            correct: 2,
            explanation: { en: "<strong>7th gen = all-in-one</strong>. Most convenient but controversial â€” higher water sorption, lower longevity.", sq: "<strong>Gjenerata 7 = gjithÃ§ka-nÃ«-njÃ«</strong>. MÃ« e pÃ«rshtatshme por kontroverse â€” absorbim mÃ« i lartÃ« uji, jetÃ«gjatÃ«si mÃ« e ulÃ«t." }
          },
          {
            q: { en: "The hybrid layer was described by:", sq: "Shtresa hibride u pÃ«rshkrua nga:" },
            options: { en: ["Buonocore", "Nakabayashi (1982)", "Bowen", "G.V. Black"], sq: ["Buonocore", "Nakabayashi (1982)", "Bowen", "G.V. Black"] },
            correct: 1,
            explanation: { en: "<strong>Nakabayashi 1982</strong> â€” resin-infiltrated demineralized dentin collagen. Basis of dentin bonding.", sq: "<strong>Nakabayashi 1982</strong> â€” kolagjen dentine e demineralizuar e infiltruar me rezinÃ«. Baza e lidhjes me dentinÃ«." }
          },
          {
            q: { en: "10-MDP is found in:", sq: "10-MDP gjendet nÃ«:" },
            options: { en: ["4th gen total-etch", "Self-etch adhesives", "ZOE cement", "Glass ionomer"], sq: ["GjeneratÃ«n 4 total-etch", "AdezivÃ«t self-etch", "Ã‡imenton ZOE", "Glas ionomer"] },
            correct: 1,
            explanation: { en: "<strong>10-MDP</strong> chemically bonds to hydroxyapatite. Found in Clearfil SE Bond, Scotchbond Universal.", sq: "<strong>10-MDP</strong> lidhet kimikisht me hidroksiapatitin. Gjendet nÃ« Clearfil SE Bond, Scotchbond Universal." }
          },
          {
            q: { en: "Wet bonding is important for:", sq: "Wet bonding Ã«shtÃ« i rÃ«ndÃ«sishÃ«m pÃ«r:" },
            options: { en: ["Enamel bonding", "Dentin bonding with total-etch", "Self-etch systems", "GIC bonding"], sq: ["Lidhjen me smalt", "Lidhjen me dentinÃ« me total-etch", "Sistemet self-etch", "Lidhjen me GIC"] },
            correct: 1,
            explanation: { en: "<strong>Wet bonding</strong> â€” keep dentin moist after etching so collagen doesn't collapse.", sq: "<strong>Wet bonding</strong> â€” mbaje dentinÃ«n tÃ« lagÃ«t pas gdhendjes qÃ« kolagjeni tÃ« mos kollapsohet." }
          },
          {
            q: { en: "Universal adhesives can be used in:", sq: "AdezivÃ«t universal mund tÃ« pÃ«rdoren nÃ«:" },
            options: { en: ["Total-etch only", "Self-etch only", "Both total-etch and self-etch modes", "Only with amalgam"], sq: ["VetÃ«m total-etch", "VetÃ«m self-etch", "TÃ« dy mÃ«nyrat total-etch dhe self-etch", "VetÃ«m me amalgam"] },
            correct: 2,
            explanation: { en: "<strong>Universal adhesives</strong> work in all modes. Most clinicians use selective etch (phosphoric on enamel only).", sq: "<strong>AdezivÃ«t universal</strong> punojnÃ« nÃ« tÃ« gjitha mÃ«nyrat. Shumica e klinicistÃ«ve pÃ«rdorin gdhendja selektive (fosforik vetÃ«m nÃ« smalt)." }
          },
          {
            q: { en: "Phosphoric acid concentration for enamel etching:", sq: "PÃ«rqendrimi i acidit fosforik pÃ«r gdhendjen e smaltit:" },
            options: { en: ["10%", "20%", "37% (30-40% range)", "50%"], sq: ["10%", "20%", "37% (rangu 30-40%)", "50%"] },
            correct: 2,
            explanation: { en: "<strong>37%</strong> for 15-30s on enamel. Etched enamel appears frosty white.", sq: "<strong>37%</strong> pÃ«r 15-30s nÃ« smalt. Smalti i gdhendur duket i bardhÃ« si brymÃ«." }
          }
        ]
      },
      {
        name: { en: "Calcium Hydroxide & Liners", sq: "Hidroksidi i Kalciumit dhe Liner-Ã«t" },
        questions: [
          {
            q: { en: "Calcium hydroxide is used primarily as:", sq: "Hidroksidi i kalciumit pÃ«rdoret kryesisht si:" },
            options: { en: ["Permanent restoration", "Pulp capping agent and liner", "Luting cement", "Impression material"], sq: ["Restaurim i pÃ«rhershÃ«m", "Agjent pÃ«r mbulim pulpe dhe liner", "Ã‡imento Ã§imentuese", "Material pÃ«r impresion"] },
            correct: 1,
            explanation: { en: "<strong>Ca(OH)â‚‚</strong> for direct/indirect pulp capping. High pH (~12.5) stimulates reparative dentin.", sq: "<strong>Ca(OH)â‚‚</strong> pÃ«r mbulim direkt/indirekt tÃ« pulpÃ«s. pH i lartÃ« (~12.5) stimulon dentinÃ« reparative." }
          },
          {
            q: { en: "The high pH (~12.5) of Ca(OH)â‚‚ is important because:", sq: "pH i lartÃ« (~12.5) i Ca(OH)â‚‚ Ã«shtÃ« i rÃ«ndÃ«sishÃ«m sepse:" },
            options: { en: ["Etches enamel", "Kills bacteria and stimulates reparative dentin", "Prevents sensitivity", "Increases restoration strength"], sq: ["Gdhend smaltin", "Vret bakteret dhe stimulon dentinÃ«n reparative", "Parandalon ndjeshmÃ«rinÃ«", "Rrit forcÃ«n e restaurimit"] },
            correct: 1,
            explanation: { en: "pH 12.5 = <strong>antibacterial</strong> + stimulates <strong>reparative dentin</strong> formation by odontoblast-like cells.", sq: "pH 12.5 = <strong>antibakterial</strong> + stimulon formimin e <strong>dentinÃ«s reparative</strong> nga qelizat odontoblast-like." }
          },
          {
            q: { en: "Cavity varnish under amalgam was used to:", sq: "Vernikimi i kavitetit nÃ«n amalgam pÃ«rdorej pÃ«r:" },
            options: { en: ["Bond amalgam", "Seal tubules and reduce microleakage", "Strengthen amalgam", "Whiten tooth"], sq: ["Lidhje amalgami", "Mbyllje tubulash dhe ulje mikroderdhjes", "PÃ«rforcim amalgami", "Zbardhje dhÃ«mbi"] },
            correct: 1,
            explanation: { en: "<strong>Seal dentinal tubules, reduce microleakage</strong>. Never under composite (interferes with bonding).", sq: "<strong>Mbyll tubulat dentinore, ul mikroderdhjen</strong>. KurrÃ« nÃ«n kompozit (ndÃ«rhyn nÃ« lidhje)." }
          },
          {
            q: { en: "Which material has largely replaced Ca(OH)â‚‚ for pulp capping?", sq: "Cili material ka zÃ«vendÃ«suar kryesisht Ca(OH)â‚‚ pÃ«r mbulimin e pulpÃ«s?" },
            options: { en: ["ZOE", "MTA (Mineral Trioxide Aggregate)", "Composite", "Zinc phosphate"], sq: ["ZOE", "MTA (Mineral Trioxide Aggregate)", "Kompoziti", "Fosfat zinku"] },
            correct: 1,
            explanation: { en: "<strong>MTA</strong> and bioceramics (Biodentine) â€” better seal, higher quality dentin bridge.", sq: "<strong>MTA</strong> dhe bioqeramikat (Biodentine) â€” mbyllje mÃ« e mirÃ«, urÃ« dentine me cilÃ«si mÃ« tÃ« lartÃ«." }
          },
          {
            q: { en: "Light-cured Ca(OH)â‚‚ liners set by:", sq: "Liner-Ã«t Ca(OH)â‚‚ tÃ« polimerizuara me dritÃ« ngurtÃ«sohen me:" },
            options: { en: ["Acid-base reaction", "Light-activated polymerization", "Chelation", "Condensation"], sq: ["Reaksion acid-bazÃ«", "Polimerizim i aktivizuar me dritÃ«", "Kelacion", "Kondensim"] },
            correct: 1,
            explanation: { en: "Light-cured liners set by <strong>photopolymerization</strong>. Chemical Dycal sets by chelation.", sq: "Liner-Ã«t me dritÃ« ngurtÃ«sohen me <strong>fotopolimerizim</strong>. Dycal kimik ngurtÃ«sohet me kelacion." }
          }
        ]
      }
    ]
  }
];

// ===== STATE =====
let lang = localStorage.getItem('dentprep_lang') || null;
let stats = JSON.parse(localStorage.getItem('dentprep_stats') || '{"answered":0,"correct":0,"streak":0,"best_streak":0,"topicScores":{}}');
let currentSubject = null;
let currentTopic = null;
let currentQuestions = [];
let currentIdx = 0;
let quizCorrect = 0;
let answered = false;

// ===== HELPERS =====
const t = (obj) => typeof obj === 'object' ? (obj[lang] || obj.en) : obj;
const ui = (key) => UI[lang]?.[key] || UI.en[key];

// ===== LANGUAGE =====
function setLang(l) {
  lang = l;
  localStorage.setItem('dentprep_lang', l);
  document.getElementById('lang-switch-btn').textContent = l === 'sq' ? 'ğŸ‡¦ğŸ‡± SQ' : 'ğŸ‡¬ğŸ‡§ EN';
  showScreen('home');
}

// ===== NAVIGATION =====
function showScreen(id) {
  if (id !== 'lang-select' && !lang) { id = 'lang-select'; }
  document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
  document.getElementById(id).classList.add('active');
  if (id === 'home') renderHome();
}

// ===== HOME =====
function renderHome() {
  document.getElementById('home-subtitle').textContent = ui('subtitle');
  document.getElementById('lbl-answered').textContent = ui('answered');
  document.getElementById('lbl-accuracy').textContent = ui('accuracy');
  document.getElementById('lbl-streak').textContent = ui('streak');
  document.getElementById('lbl-subjects').textContent = ui('subjects');
  document.getElementById('stat-answered').textContent = stats.answered;
  document.getElementById('stat-accuracy').textContent = stats.answered ? Math.round(stats.correct/stats.answered*100)+'%' : '0%';
  document.getElementById('stat-streak').textContent = stats.best_streak;

  const grid = document.getElementById('subject-grid');
  grid.innerHTML = '';
  SUBJECTS.forEach(sub => {
    const totalQ = sub.topics.reduce((a,tp) => a + tp.questions.length, 0);
    const answeredQ = sub.topics.reduce((a,tp) => {
      const key = sub.id + '_' + (tp.name.en || tp.name);
      return a + (stats.topicScores[key]?.answered || 0);
    }, 0);
    const pct = totalQ ? Math.min(100, Math.round(answeredQ/totalQ*100)) : 0;
    const card = document.createElement('div');
    card.className = 'subject-card';
    card.innerHTML = `<div class="emoji">${sub.emoji}</div><div class="name">${t(sub.name)}</div><div class="count">${totalQ} ${ui('questions')}</div><div class="progress-bar" style="width:${pct}%"></div>`;
    card.onclick = () => openSubject(sub);
    grid.appendChild(card);
  });
}

// ===== TOPICS =====
function openSubject(sub) {
  currentSubject = sub;
  document.getElementById('back-topics').textContent = ui('back');
  document.getElementById('topic-subject-name').textContent = sub.emoji + ' ' + t(sub.name);
  document.getElementById('topic-subject-desc').textContent = t(sub.desc);
  const list = document.getElementById('topic-list');
  list.innerHTML = '';
  sub.topics.forEach(topic => {
    const key = sub.id + '_' + (topic.name.en || topic.name);
    const sc = stats.topicScores[key];
    const card = document.createElement('div');
    card.className = 'topic-card';
    card.innerHTML = `<div class="left"><div class="name">${t(topic.name)}</div><div class="meta">${topic.questions.length} ${ui('questions')}</div></div><div class="right">${sc ? `<span class="score">${Math.round(sc.correct/sc.answered*100)}%</span>` : ''}<span class="arrow">â€º</span></div>`;
    card.onclick = () => startQuiz(topic);
    list.appendChild(card);
  });
  showScreen('topics');
}

// ===== QUIZ =====
function shuffle(arr) {
  const a = [...arr];
  for (let i = a.length-1; i > 0; i--) { const j = Math.floor(Math.random()*(i+1)); [a[i],a[j]] = [a[j],a[i]]; }
  return a;
}

function startQuiz(topic) {
  currentTopic = topic;
  currentQuestions = shuffle(topic.questions);
  currentIdx = 0;
  quizCorrect = 0;
  showScreen('quiz');
  renderQuestion();
}

function renderQuestion() {
  const q = currentQuestions[currentIdx];
  answered = false;
  document.getElementById('quit-btn').textContent = ui('quit');
  document.getElementById('quiz-counter').textContent = `${currentIdx+1} / ${currentQuestions.length}`;
  document.getElementById('quiz-progress-fill').style.width = `${(currentIdx/currentQuestions.length)*100}%`;
  document.getElementById('question-text').textContent = t(q.q);
  document.getElementById('explanation').classList.remove('show');
  document.getElementById('next-btn').classList.remove('show');
  const opts = document.getElementById('options');
  opts.innerHTML = '';
  const letters = ['A','B','C','D'];
  const options = t(q.options);
  options.forEach((opt, i) => {
    const btn = document.createElement('button');
    btn.className = 'option-btn';
    btn.innerHTML = `<span class="letter">${letters[i]}</span><span>${opt}</span>`;
    btn.onclick = () => selectAnswer(i);
    opts.appendChild(btn);
  });
}

function selectAnswer(idx) {
  if (answered) return;
  answered = true;
  const q = currentQuestions[currentIdx];
  const btns = document.querySelectorAll('.option-btn');
  btns.forEach((btn, i) => {
    btn.classList.add('disabled');
    if (i === q.correct) btn.classList.add('correct');
    if (i === idx && idx !== q.correct) btn.classList.add('wrong');
  });
  if (idx === q.correct) { quizCorrect++; stats.correct++; stats.streak++; if (stats.streak > stats.best_streak) stats.best_streak = stats.streak; } else { stats.streak = 0; }
  stats.answered++;
  const expl = document.getElementById('explanation');
  expl.innerHTML = t(q.explanation);
  expl.classList.add('show');
  const nb = document.getElementById('next-btn');
  nb.classList.add('show');
  nb.textContent = currentIdx < currentQuestions.length-1 ? ui('next') : ui('seeResults');
  saveStats();
}

function nextQuestion() {
  currentIdx++;
  if (currentIdx >= currentQuestions.length) showResults();
  else renderQuestion();
}

// ===== RESULTS =====
function showResults() {
  const pct = Math.round(quizCorrect/currentQuestions.length*100);
  const circle = document.getElementById('results-circle');
  circle.className = 'results-circle ' + (pct >= 80 ? 'good' : pct >= 50 ? 'ok' : 'bad');
  document.getElementById('results-pct').textContent = pct + '%';
  document.getElementById('results-of').textContent = `${quizCorrect}/${currentQuestions.length}`;
  const r = ui('results');
  const msgs = pct >= 90 ? r[0] : pct >= 70 ? r[1] : pct >= 50 ? r[2] : r[3];
  document.getElementById('results-msg').textContent = msgs[0];
  document.getElementById('results-sub').textContent = msgs[1];
  document.getElementById('btn-retry').textContent = ui('retry');
  document.getElementById('btn-back-home').textContent = ui('backHome');
  const key = currentSubject.id + '_' + (currentTopic.name.en || currentTopic.name);
  stats.topicScores[key] = { answered: currentQuestions.length, correct: quizCorrect };
  saveStats();
  document.getElementById('quiz-progress-fill').style.width = '100%';
  showScreen('results');
}

function retryQuiz() { startQuiz(currentTopic); }
function saveStats() { localStorage.setItem('dentprep_stats', JSON.stringify(stats)); }

// ===== INIT =====
if (lang) { document.getElementById('lang-switch-btn').textContent = lang === 'sq' ? 'ğŸ‡¦ğŸ‡± SQ' : 'ğŸ‡¬ğŸ‡§ EN'; showScreen('home'); }
</script>
</body>
</html>
